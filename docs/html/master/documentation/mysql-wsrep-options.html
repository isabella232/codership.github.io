

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="MySQL wsrep Options" name="title" />
<meta content="en-US" name="language" />
<meta content="Codership Oy, 2014 - 2019. All Rights Reserved." name="copyright" />

    <title>MySQL wsrep Options &#8212; Galera Cluster Documentation</title>
    
    <link rel="stylesheet" href="../_static/codership.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/cloud.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MySQL wsrep Functions" href="mysql-wsrep-functions.html" />
    <link rel="prev" title="Reference" href="reference.html" />




<!-- jquery-1.8.3.min.js conflicts with jquery.js from Sphinx and therefore documentation search does not work
	<script type="text/javascript" src="https://galeracluster.com/wp-content/themes/galeracluster/js/jquery-1.8.3.min.js"></script>
-->
	<script type="text/javascript" src="https://galeracluster.com/wp-content/themes/galeracluster/js/swipe.js"></script>

	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<script type="text/javascript">  google.load("maps", "3",  {other_params:"sensor=false&libraries=geometry,places"});  </script>

	<script type="text/javascript" src="https://galeracluster.com/wp-content/themes/galeracluster/js/main.js?v3"></script>
	<script type="text/javascript" src="https://galeracluster.com/wp-content/themes/galeracluster/js/maps.js?v2"></script>

	<link rel="stylesheet" href="https://galeracluster.com/wp-content/themes/galeracluster/css/style_reset.css">
	<link rel="stylesheet" href="https://galeracluster.com/wp-content/themes/galeracluster/fonts/fonts.css">
	<link rel="stylesheet" href="https://galeracluster.com/wp-content/themes/galeracluster/style.css?v3">

		<!--[if lt IE 9]>
		<script src="https://galeracluster.com/wp-content/themes/galeracluster/js/html5.js"></script>
		<![endif]-->
	<link rel="alternate" type="application/rss+xml" title="Galera Cluster for MySQL &raquo; Feed" href="https://galeracluster.com/feed/" />
	<link rel="alternate" type="application/rss+xml" title="Galera Cluster for MySQL &raquo; Comments Feed" href="https://galeracluster.com/comments/feed/" />
	<link rel="alternate" type="application/rss+xml" title="Galera Cluster for MySQL &raquo; Support Comments Feed" href="https://galeracluster.com/support/feed/" />

	<script type='text/javascript' src='https://galeracluster.com/wp-includes/js/comment-reply.min.js?ver=3.8.3'></script>

	<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://galeracluster.com/xmlrpc.php?rsd" />
	<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://galeracluster.com/wp-includes/wlwmanifest.xml" />
	<link rel='prev' title='Downloads' href='https://galeracluster.com/downloads/' />
	<link rel='next' title='Community' href='https://galeracluster.com/community/' />
	<meta name="generator" content="WordPress 3.8.3" />

	<link rel='shortlink' href='https://galeracluster.com/?p=12' />



	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
	<style type="text/css" id="twentythirteen-header-css">
				.site-title,
			.site-description {
				position: absolute;
				clip: rect(1px 1px 1px 1px); /* IE7 */
				clip: rect(1px, 1px, 1px, 1px);
			}
				.site-header .home-link {
				min-height: 0;
			}
	</style>


	<script type="text/javascript">

		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-35163478-6']);
		  _gaq.push(['_trackPageview']);

		  (function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'https://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();

	</script>

  </head>
  <body role="document">
	<div id="fb-root"></div>
	<script>(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	</script>

	<div id="page" class="hfeed site">

	<header id="masthead" class="site-header" role="banner">

	<div class="top">
	<a class="home-link" href="https://galeracluster.com/" title="Galera Cluster for MySQL" rel="home">
	<h1 class="site-title">Galera Cluster for MySQL</h1>
	<h2 class="site-description">The world&#039;s most advanced open source database cluster</h2>
	</a>
	</div>


	<div id="navbar" class="navbar">
	<a id="mobile-menu-link" href="#">
	<span class="text">MENU</span>

	<div class="stripes">
	<div class="stripe"></div>
	<div class="stripe"></div>
	<div class="stripe"></div>
	</div>
	</a>

	<nav id="site-navigation" class="navigation main-navigation" role="navigation">
	<div class="menu-main-menu-container">

	<ul id="menu-main-menu" class="nav-menu">
		<li id="menu-item-359" class="link-home menu-item menu-item-type-post_type menu-item-object-page menu-item-359"><a href="https://galeracluster.com/">Home</a></li>
		<li id="menu-item-35" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-35"><a href="https://galeracluster.com/products/">Products</a>
		<ul class="sub-menu">
		<li id="menu-item-626" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-626"><a href="https://galeracluster.com/products/">Galera Cluster</a>
		<ul class="sub-menu">
		<li id="menu-item-827" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-827"><a href="https://galeracluster.com/products/#use-cases">Use cases</a></li>
		<li id="menu-item-722" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-722"><a href="https://galeracluster.com/products#success-stories">Success stories</a></li>
		<li id="menu-item-828" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-828"><a href="https://galeracluster.com/products/#case-studies">Case studies</a></li>
		</ul>
		</li>
		<li id="menu-item-713" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-713"><a href="https://galeracluster.com/products/technology/">Technology</a>
		<ul class="sub-menu">
		<li id="menu-item-829" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-829"><a href="https://galeracluster.com/products/technology/#white-papers-case-studies">White papers</a></li>
		<li id="menu-item-830" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-830"><a href="https://galeracluster.com/products/technology/#benchmarks">Benchmarks</a></li>
		<li id="menu-item-831" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-831"><a href="https://galeracluster.com/products/technology/#videos-presentations">Videos &#038; presentations</a></li>
		</ul>
		</li>
		</ul>
		</li>
		<li id="menu-item-34" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-34"><a href="https://galeracluster.com/downloads/">Downloads</a>
		<ul class="sub-menu">
		<li id="menu-item-832" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-832"><a href="https://galeracluster.com/downloads/#downloads">Software</a></li>
		<li id="menu-item-833" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-833"><a href="https://galeracluster.com/downloads/#partner-downloads">Partner downloads</a></li>
		</ul>
		</li>
		<li id="menu-item-33" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-12 current_page_item current-menu-ancestor current-menu-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-33"><a href="https://galeracluster.com/support/">Support</a>
		<ul class="sub-menu">
		<li id="menu-item-834" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-834"><a href="https://galeracluster.com/support/#support-partners">Support Partners</a></li>
		<li id="menu-item-1099" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-1099"><a href="https://galeracluster.com/support/#galera-cluster-support-subscription">Support Subscription</a></li>
		<li id="menu-item-1100" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-1100"><a href="https://galeracluster.com/support/#consulting">Consulting</a></li>
		<li id="menu-item-1098" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1098"><a href="https://galeracluster.com/library/">Library (Documentation)</a></li>
		</ul>
		</li>
		<li id="menu-item-32" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-32"><a href="https://galeracluster.com/community/">Community</a>
		<ul class="sub-menu">
		<li id="menu-item-634" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="https://galeracluster.com/community/">Mailing List</a></li>
		<li id="menu-item-1101" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1101"><a href="https://galeracluster.com/#social-media-plugins">Facebook feed</a></li>
		</ul>
		</li>
		<li id="menu-item-31" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-31"><a href="https://galeracluster.com/company/">Company</a>
		<ul class="sub-menu">
		<li id="menu-item-637" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="https://galeracluster.com/company/">Overview</a></li>
		<li id="menu-item-835" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-835"><a href="https://galeracluster.com/company/#carousel">What we believe</a></li>
		<li id="menu-item-836" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-836"><a href="https://galeracluster.com/company/#latest-press-releases">News</a></li>
		<li id="menu-item-838" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-838"><a href="https://galeracluster.com/company/#careers">Careers</a></li>
		<li id="menu-item-837" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-837"><a href="https://galeracluster.com/company/#the-codership-story">Galera Cluster Story</a></li>
		</ul>
		</li>
		<li id="menu-item-297" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-297"><a href="https://galeracluster.com/category/blog/">Blog</a></li>
		<li id="menu-item-38" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38"><a href="https://galeracluster.com/contact-us/">Contact us</a></li>
	</ul>
	</div>


	</nav><!-- #site-navigation -->

	</div><!-- #navbar -->
	</header><!-- #masthead -->

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="topic" id="left-margin">
<p class="topic-title first">The Library</p>
<ul class="no-bull simple">
<li><a class="reference internal" href="index.html"><span class="doc">Documentation</span></a></li>
<li><a class="reference internal" href="../kb/index.html"><span class="doc">Knowledge Base</span></a></li>
</ul>
<ul class="no-bull-sub no-bull simple">
<li><a class="reference internal" href="../kb/trouble/index.html"><span class="doc">Troubleshooting</span></a></li>
<li><a class="reference internal" href="../kb/best/index.html"><span class="doc">Best Practices</span></a></li>
</ul>
<ul class="no-bull simple">
<li><a class="reference internal" href="../faq.html"><span class="doc">FAQ</span></a></li>
<li><a class="reference internal" href="../training/index.html"><span class="doc">Training</span></a></li>
</ul>
<ul class="no-bull-sub no-bull simple">
<li><a class="reference internal" href="../training/tutorials/index.html"><span class="doc">Tutorial Articles</span></a></li>
<li><a class="reference internal" href="../training/videos/index.html"><span class="doc">Training Videos</span></a></li>
</ul>
<p class="bull-head no-bull">Related Documents</p>
<p class="bull-head no-bull">Related Articles</p>
</div>
<div class="library-document section" id="mysql-wsrep-options">
<span id="id1"></span><h1>MySQL wsrep Options<a class="headerlink" href="#mysql-wsrep-options" title="Permalink to this headline">Â¶</a></h1>
<span class="target" id="index-0"></span><p id="index-1">These are MySQL system variables introduced by wsrep API patch version 0.8. Almost all of the variables are global except for a few. Those are session variables.  If you click on a particular variable in this table, your web browser will scroll down to the entry for it with more details and an explanation.</p>
<table border="1" class="doc-options tight-header docutils">
<colgroup>
<col width="30%" />
<col width="42%" />
<col width="6%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><br /> Option</th>
<th class="head"><br /> Default Value</th>
<th class="head"><br /> Global</th>
<th class="head"><br /> Dynamic</th>
<th class="head">Initial <br /> Version</th>
<th class="head">Version <br /> Deprecated</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#wsrep-auto-increment-control"><span class="std std-ref">wsrep_auto_increment_control</span></a></td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-causal-reads"><span class="std std-ref">wsrep_causal_reads</span></a></td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>3.6</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-certify-nonpk"><span class="std std-ref">wsrep_certify_nonPK</span></a></td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
<td>&nbsp;</td>
<td>Yes</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-cluster-address"><span class="std std-ref">wsrep_cluster_address</span></a></td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-cluster-name"><span class="std std-ref">wsrep_cluster_name</span></a></td>
<td><code class="docutils literal"><span class="pre">example_cluster</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-convert-lock-to-trx"><span class="std std-ref">wsrep_convert_LOCK_to_trx</span></a></td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-data-home-dir"><span class="std std-ref">wsrep_data_home_dir</span></a></td>
<td><code class="docutils literal"><span class="pre">/path/to/datadir</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-dbug-option"><span class="std std-ref">wsrep_dbug_option</span></a></td>
<td>&nbsp;</td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-debug"><span class="std std-ref">wsrep_debug</span></a></td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-desync"><span class="std std-ref">wsrep_desync</span></a></td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-dirty-reads"><span class="std std-ref">wsrep_dirty_reads</span></a></td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
<td>Yes</td>
<td>Yes</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-drupal-282555-workaround"><span class="std std-ref">wsrep_drupal_282555_workaround</span></a></td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-forced-binlog-format"><span class="std std-ref">wsrep_forced_binlog_format</span></a></td>
<td><code class="docutils literal"><span class="pre">NONE</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-load-data-splitting"><span class="std std-ref">wsrep_load_data_splitting</span></a></td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-log-conflicts"><span class="std std-ref">wsrep_log_conflicts</span></a></td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-max-ws-rows"><span class="std std-ref">wsrep_max_ws_rows</span></a></td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-max-ws-size"><span class="std std-ref">wsrep_max_ws_size</span></a></td>
<td><code class="docutils literal"><span class="pre">1G</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-node-address"><span class="std std-ref">wsrep_node_address</span></a></td>
<td><em>host address:default port</em></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-node-incoming-address"><span class="std std-ref">wsrep_node_incoming_address</span></a></td>
<td><em>host address:mysqld port</em></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-node-name"><span class="std std-ref">wsrep_node_name</span></a></td>
<td><code class="docutils literal"><span class="pre">&lt;hostname&gt;</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-notify-cmd"><span class="std std-ref">wsrep_notify_cmd</span></a></td>
<td>&nbsp;</td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-on"><span class="std std-ref">wsrep_on</span></a></td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-osu-method"><span class="std std-ref">wsrep_OSU_method</span></a></td>
<td><code class="docutils literal"><span class="pre">TOI</span></code></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>3.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-preordered"><span class="std std-ref">wsrep_preordered</span></a></td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-provider"><span class="std std-ref">wsrep_provider</span></a></td>
<td><code class="docutils literal"><span class="pre">NONE</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-provider-options"><span class="std std-ref">wsrep_provider_options</span></a></td>
<td>&nbsp;</td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-reject-queries"><span class="std std-ref">wsrep_reject_queries</span></a></td>
<td><code class="docutils literal"><span class="pre">NONE</span></code></td>
<td>Yes</td>
<td>Yes</td>
<td>???</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-restart-slave"><span class="std std-ref">wsrep_restart_slave</span></a></td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
<td>Yes</td>
<td>Yes</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-retry-autocommit"><span class="std std-ref">wsrep_retry_autocommit</span></a></td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-slave-fk-checks"><span class="std std-ref">wsrep_slave_FK_checks</span></a></td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
<td>Yes</td>
<td>Yes</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-slave-threads"><span class="std std-ref">wsrep_slave_threads</span></a></td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-slave-uk-checks"><span class="std std-ref">wsrep_slave_UK_checks</span></a></td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
<td>Yes</td>
<td>Yes</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-sst-auth"><span class="std std-ref">wsrep_sst_auth</span></a></td>
<td>&nbsp;</td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-sst-donor"><span class="std std-ref">wsrep_sst_donor</span></a></td>
<td>&nbsp;</td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-sst-donor-rejects-queries"><span class="std std-ref">wsrep_sst_donor_rejects_queries</span></a></td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-sst-method"><span class="std std-ref">wsrep_sst_method</span></a></td>
<td><code class="docutils literal"><span class="pre">mysqldump</span></code></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-sst-receive-address"><span class="std std-ref">wsrep_sst_receive_address</span></a></td>
<td><em>node IP address</em></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-start-position"><span class="std std-ref">wsrep_start_position</span></a></td>
<td><em>see reference entry</em></td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-sync-wait"><span class="std std-ref">wsrep_sync_wait</span></a></td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>Yes</td>
<td>Yes</td>
<td>3.6</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-trx-fragment-size"><span class="std std-ref">wsrep_trx_fragment_size</span></a></td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>Yes</td>
<td>Yes</td>
<td>4.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#wsrep-trx-fragment-unit"><span class="std std-ref">wsrep_trx_fragment_unit</span></a></td>
<td><code class="docutils literal"><span class="pre">bytes</span></code></td>
<td>Yes</td>
<td>Yes</td>
<td>4.0</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#wsrep-ws-persistency"><span class="std std-ref">wsrep_ws_persistency</span></a></td>
<td>&nbsp;</td>
<td>Yes</td>
<td>&nbsp;</td>
<td>1.0</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>You can execute the <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with the <code class="docutils literal"><span class="pre">LIKE</span></code> operator as shown below to get list of all Galera related variables on your server:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep%&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>The results will vary depending on which version of Galera is running on your server. All of the parameters and variables possible are listed above, but they&#8217;re listed below with explanations of each.</p>
<p class="rubric-1 rubric" id="wsrep-auto-increment-control"><code class="docutils literal"><span class="pre">wsrep_auto_increment_control</span></code></p>
<p id="index-2">This parameter enables the automatic adjustment of auto increment system variables with changes in cluster membership.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-auto-increment-control</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_auto_increment_control</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>The node manages auto-increment values in a table using two variables: <code class="docutils literal"><span class="pre">auto_increment_increment</span></code> and <code class="docutils literal"><span class="pre">auto_increment_offset</span></code>.  The first relates to the value auto-increment rows count from the offset. The second relates to the offset it should use in moving to the next position.</p>
<p>The <a class="reference internal" href="#wsrep-auto-increment-control"><span class="std std-ref">wsrep_auto_increment_control</span></a> parameter enables additional calculations to this process, using the number of nodes connected to the <a class="reference internal" href="glossary.html#term-primary-component"><span class="xref std std-term">Primary Component</span></a> to adjust the increment and offset.  This is done to reduce the likelihood that two nodes will attempt to write the same auto-increment value to a table.</p>
<p>It significantly reduces the rate of certification conflicts for <code class="docutils literal"><span class="pre">INSERT</span></code> statements. You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement to see how its set:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_auto_increment_control&#39;</span><span class="p">;</span>

 <span class="o">+------------------------------+-------+</span>
 <span class="o">|</span> <span class="n">Variable_name</span>                <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
 <span class="o">+------------------------------+-------+</span>
 <span class="o">|</span> <span class="n">wsrep_auto_increment_control</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
 <span class="o">+------------------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-causal-reads"><code class="docutils literal"><span class="pre">wsrep_causal_reads</span></code></p>
<p id="index-3">This parameter enables the enforcement of strict cluster-wide <code class="docutils literal"><span class="pre">READ</span> <span class="pre">COMMITTED</span></code> semantics on non-transactional reads. It results in larger read latencies.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-causal-reads</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_causal_reads</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Session</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0, Deprecated in Version 3.6</td>
</tr>
</tbody>
</table>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see how this variable is set:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_causal_reads&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The <code class="docutils literal"><span class="pre">wsrep_causal_reads</span></code> option has been <strong>deprecated</strong>.  It has been replaced by <a class="reference internal" href="#wsrep-sync-wait"><span class="std std-ref">wsrep_sync_wait</span></a>.</p>
</div>
<p class="rubric-1 rubric" id="wsrep-certification-rules"><code class="docutils literal"><span class="pre">wsrep_certification_rules</span></code></p>
<p id="index-4">Certification rules to use in the cluster.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-certification-rules</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_certification_rules</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Enumeration</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">STRICT</span></code></td>
</tr>
<tr class="row-odd"><td>Valid Value</td>
<td><code class="docutils literal"><span class="pre">OPTIMIZED</span></code>, <code class="docutils literal"><span class="pre">STRICT</span></code></td>
</tr>
<tr class="row-even"><td>Initial Version</td>
<td>Version ???</td>
</tr>
</tbody>
</table>
<p>Controls how certification is done in the cluster, in particular this affects how foreign keys are handled: with the <code class="docutils literal"><span class="pre">STRICT</span></code> option two INSERTs that happen at about the same time on two different nodes in a child table, that insert different (non conflicting rows), but both rows point to the same row in the parent table could result in certification failure. With the <code class="docutils literal"><span class="pre">OPTIMIZED</span></code> option such certification failure is avoided.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_certification_rules&#39;</span><span class="p">;</span>

<span class="o">+---------------------------+--------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>             <span class="o">|</span> <span class="n">Value</span>  <span class="o">|</span>
<span class="o">+---------------------------+--------+</span>
<span class="o">|</span> <span class="n">wsrep_certification_rules</span> <span class="o">|</span> <span class="n">STRICT</span> <span class="o">|</span>
<span class="o">+---------------------------+--------+</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a MySQL wsrep parameter. It was introduced in 5.5.61-25.24, 5.6.41-25.23, 5.7.23-25.15.</p>
</div>
<p class="rubric-1 rubric" id="wsrep-certify-nonpk"><code class="docutils literal"><span class="pre">wsrep_certify_nonPK</span></code></p>
<p id="index-5">This parameter is used to define whether the node should generate primary keys on rows without them for the purposes of certification.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-certify-nonpk</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_certify_nonpk</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>Galera Cluster requires primary keys on all tables.  The node uses the primary key in replication to allow for the parallel applying of transactions to a table.  This parameter tells the node that when it encounters a row without a primary key, it should create one for replication purposes.  However, as a rule don&#8217;t use tables without primary keys.</p>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see how this variable is set:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_certify_nonpk&#39;</span><span class="p">;</span>

<span class="o">+---------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>       <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+---------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_certify_nonpk</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+---------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-cluster-address"><code class="docutils literal"><span class="pre">wsrep_cluster_address</span></code></p>
<span class="target" id="index-6"></span><p id="index-7">This parameter sets the back-end schema, IP addresses, ports and options the node uses in connecting to the cluster.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-cluster-address</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_cluster_address</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>Galera Cluster uses this parameter to determine the IP addresses for the other nodes in the cluster, the back-end schema to use and additional options it should use in connecting to and communicating with those nodes.  Currently, the only back-end schema supported for production is <code class="docutils literal"><span class="pre">gcomm</span></code>.</p>
<p>Below is the syntax for this the values of this parameter:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>&lt;backend schema&gt;://&lt;cluster address&gt;[?option1=value1[&amp;option2=value2]]
</pre></div>
</div>
<p>Here&#8217;s an example of how that might look:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="na">wsrep_cluster_address</span><span class="o">=</span><span class="s">&quot;gcomm://192.168.0.1:4567?gmcast.listen_addr=0.0.0.0:5678&quot;</span>
</pre></div>
</div>
<p>Changing this variable while Galera is running will cause the node to close the connection to the current cluster, and reconnect to the new address. Doing this at runtime may not be possible, though, for all SST methods. As of Galera Cluster 23.2.2, it is possible to provide a comma-separated list of other nodes in the cluster as follows:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>gcomm://node1:port1,node2:port2,...[?option1=value1&amp;...]
</pre></div>
</div>
<p>Using the string <code class="docutils literal"><span class="pre">gcomm://</span></code> without any address will cause the node to startup alone, thus initializing a new cluster&#8211;that the other nodes can join to.  Using <code class="docutils literal"><span class="pre">--wsrep-new-cluster</span></code> is the newer, preferred way.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Never use an empty <code class="docutils literal"><span class="pre">gcomm://</span></code> string with the <code class="docutils literal"><span class="pre">wsrep_cluster_address</span></code> option in the configuration file. If a node restarts, it will cause the node not to rejoin the cluster. Instead, it will initialize a new one-node cluster and cause a split brain. To bootstrap a cluster, you should only pass the <code class="docutils literal"><span class="pre">--wsrep-new-cluster</span></code> string at the command-line&#8211;instead of using <code class="docutils literal"><span class="pre">--wsrep-cluster-address=&quot;gcomm://&quot;</span></code>. For more information, see <a class="reference internal" href="../training/tutorials/starting-cluster.html"><span class="doc">Starting the Cluster</span></a>.</p>
</div>
<p>You can execute the following SQL statement to see how this variable is set:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_cluster_address&#39;</span><span class="p">;</span>

<span class="o">+-----------------------+---------------------------------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>         <span class="o">|</span> <span class="n">Value</span>                                       <span class="o">|</span>
<span class="o">+-----------------------+---------------------------------------------+</span>
<span class="o">|</span> <span class="n">wsrep_cluster_address</span> <span class="o">|</span> <span class="n">gcomm</span><span class="p">:</span><span class="o">//</span><span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">3</span> <span class="o">|</span>
<span class="o">+-----------------------+---------------------------------------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-cluster-name"><code class="docutils literal"><span class="pre">wsrep_cluster_name</span></code></p>
<p id="index-8">This parameter defines the logical cluster name for the node.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-cluster-name</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_cluster_name</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">exmaple_cluster</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter allows you to define the logical name the node uses for the cluster.  When a node attempts to connect to a cluster, it checks the value of this parameter against that of the cluster.  The connection is only made if the names match.  If they don&#8217;t match, the connection fails.  Because of this, the cluster name must be the same on all nodes.</p>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see how this variable is set:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_cluster_name&#39;</span><span class="p">;</span>

<span class="o">+--------------------+-----------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>      <span class="o">|</span> <span class="n">Value</span>           <span class="o">|</span>
<span class="o">+--------------------+-----------------+</span>
<span class="o">|</span> <span class="n">wsrep_cluster_name</span> <span class="o">|</span> <span class="n">example_cluster</span> <span class="o">|</span>
<span class="o">+--------------------+-----------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-convert-lock-to-trx"><code class="docutils literal"><span class="pre">wsrep_convert_lock_to_trx</span></code></p>
<p id="index-9">This parameter is used to set whether the node converts <code class="docutils literal"><span class="pre">LOCK/UNLOCK</span> <span class="pre">TABLES</span></code> statements into <code class="docutils literal"><span class="pre">BEGIN/COMMIT</span></code> statements.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-convert-lock-to-trx</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_convert_lock_to_trx</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter determines how the node handles <code class="docutils literal"><span class="pre">LOCK/UNLOCK</span> <span class="pre">TABLES</span></code> statements, specifically whether or not you want it to convert these statements into <code class="docutils literal"><span class="pre">BEGIN/COMMIT</span></code> statements.  It tells the node to convert implicitly locking sessions into transactions within the database server. By itself, this is not the same as support for locking sections, but it does prevent the database from resulting in a logically inconsistent state.</p>
<p>This parameter may help sometimes to get old applications working in a multi-master setup.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Loading a large database dump with <code class="docutils literal"><span class="pre">LOCK</span></code> statements can result in abnormally large transactions and cause an out-of-memory condition.</p>
</div>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see how this variable is set:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_convert_lock_to_trx&#39;</span><span class="p">;</span>

<span class="o">+---------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>             <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+---------------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_convert_lock_to_trx</span> <span class="o">|</span> <span class="n">OFF</span>   <span class="o">|</span>
<span class="o">+---------------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-data-home-dir"><code class="docutils literal"><span class="pre">wsrep_data_home_dir</span></code></p>
<p id="index-10">Use this parameter to set the directory the wsrep Provider uses for its files.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td>???</td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_data_home_dir</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Directory</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>/path/mysql_datadir</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>During operation, the wsrep Provider needs to save various files to disk that record its internal state.  This parameter defines the path to the directory that you want it to use.  If not set, it defaults the MySQL <code class="docutils literal"><span class="pre">datadir</span></code> path.</p>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see how this variable is set:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_data_home_dir&#39;</span><span class="p">;</span>

<span class="o">+---------------------+----------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>       <span class="o">|</span> <span class="n">Value</span>          <span class="o">|</span>
<span class="o">+---------------------+----------------+</span>
<span class="o">|</span> <span class="n">wsrep_data_home_dir</span> <span class="o">|</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">mysql</span> <span class="o">|</span>
<span class="o">+---------------------+----------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-dbug-option"><code class="docutils literal"><span class="pre">wsrep_dbug_option</span></code></p>
<p id="index-11">You can set debug options to pass to the wsrep Provider with this parameter.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-dbug-option</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_dbug_option</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see how this variable is set, if its set:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_dbug_option&#39;</span><span class="p">;</span>

<span class="o">+-------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>     <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+-------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_dbug_option</span> <span class="o">|</span>       <span class="o">|</span>
<span class="o">+-------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-debug"><code class="docutils literal"><span class="pre">wsrep_debug</span></code></p>
<p id="index-12">This parameter enables additional debugging output for the database server error log.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-debug</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_debug</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>Under normal operation, error events are logged to an error log file for the database server.  By default, the name of this file is the server hostname with the <code class="docutils literal"><span class="pre">.err</span></code> extension.  You can define a custom path using the <a class="reference external" href="https://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_log_error">log_error</a> parameter. When you enable <a class="reference internal" href="#wsrep-debug"><span class="std std-ref">wsrep_debug</span></a>, the database server logs additional events surrounding these errors to help in identifying and correcting problems.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In addition to useful debugging information, the <code class="docutils literal"><span class="pre">wsrep_debug</span></code> parameter also causes the database server to print authentication information (i.e., passwords) to the error logs.  Don&#8217;t enable it in production environments.</p>
</div>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see if this variable is enabled:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_debug&#39;</span><span class="p">;</span>

<span class="o">+---------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span> <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+---------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_debug</span>   <span class="o">|</span> <span class="n">OFF</span>   <span class="o">|</span>
<span class="o">+---------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-desync"><code class="docutils literal"><span class="pre">wsrep_desync</span></code></p>
<p id="index-13">This parameter is used to set whether or not the node participates in Flow Control.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td>???</td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_desync</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>When a node receives more write-sets than it can apply, the transactions are placed in a received queue.  In the event that the node falls too far behind, it engages Flow Control.  The node takes itself out of sync with the cluster and works through the received queue until it reaches a more manageable size.</p>
<p>For more information on Flow Control and how to configure and manage it in a cluster, see <a class="reference internal" href="node-states.html"><span class="doc">Flow Control</span></a> and <a class="reference internal" href="managing-fc.html"><span class="doc">Managing Flow Control</span></a>.</p>
<p>When set to <code class="docutils literal"><span class="pre">ON</span></code>, this parameter disables Flow Control for the node.  The node will continue to receive write-sets and fall further behind the cluster.  The cluster doesn&#8217;t wait for desynced nodes to catch up, even if it reaches the <code class="docutils literal"><span class="pre">fc_limit</span></code> value.</p>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see if this variable is enabled:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_desync&#39;</span><span class="p">;</span>

<span class="o">+---------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span> <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+---------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_desync</span>  <span class="o">|</span> <span class="n">OFF</span>   <span class="o">|</span>
<span class="o">+---------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-dirty-reads"><code class="docutils literal"><span class="pre">wsrep_dirty_reads</span></code></p>
<p id="index-14">This parameter defines whether the node accepts read queries when in a non-operational state.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-dirty-reads</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_dirty_reads</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>???</td>
</tr>
</tbody>
</table>
<p>When a node loses its connection to the <a class="reference internal" href="glossary.html#term-primary-component"><span class="xref std std-term">Primary Component</span></a>, it enters a non-operational state.  Given that it can&#8217;t keep its data current while in this state, it rejects all queries with an <code class="docutils literal"><span class="pre">ERROR:</span> <span class="pre">Unknown</span> <span class="pre">command</span></code> message.  This parameter determines whether or not the node permits reads while in a non-operational state.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Remember that by its nature, data reads from nodes in a non-operational state are stale.  Current data in the Primary Component remains inaccessible to these nodes until they rejoin the cluster.</p>
</div>
<p>When enabling this parameter, the node only permits reads. It still rejects any command that modifies or updates the database.  When in this state, the node allows <code class="docutils literal"><span class="pre">USE</span></code>, <code class="docutils literal"><span class="pre">SELECT</span></code>, <code class="docutils literal"><span class="pre">LOCK</span> <span class="pre">TABLE</span></code> and <code class="docutils literal"><span class="pre">UNLOCK</span> <span class="pre">TABLES</span></code> statements.  It doesn&#8217;t allow DDL statements.  It also rejects DML statements (i.e., <code class="docutils literal"><span class="pre">INSERT</span></code>, <code class="docutils literal"><span class="pre">DELETE</span></code> and <code class="docutils literal"><span class="pre">UPDATE</span></code>).</p>
<p>You must set the <a class="reference internal" href="#wsrep-sync-wait"><span class="std std-ref">wsrep_sync_wait</span></a> parameter to <code class="docutils literal"><span class="pre">0</span></code> when using this parameter, else it raises a deadlock error.</p>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see if this variable is enabled:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_dirty_reads&#39;</span><span class="p">;</span>

<span class="o">+-------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>     <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+-------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_dirty_reads</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+-------------------+-------+</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a MySQL wsrep parameter.  It was introduced in version 5.6.29.</p>
</div>
<p class="rubric-1 rubric" id="wsrep-drupal-282555-workaround"><code class="docutils literal"><span class="pre">wsrep_drupal_282555_workaround</span></code></p>
<p id="index-15">This parameter enables workaround for a bug in MySQL InnoDB that affects Drupal installations.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-drupal-282555-workaround</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_drupal_282555_workaround</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>Drupal installations using MySQL are subject to a bug in InnoDB, tracked as <a class="reference external" href="https://bugs.mysql.com/bug.php?id=41984">MySQL Bug 41984</a> and <a class="reference external" href="https://drupal.org/node/282555">Drupal Issue 282555</a>.  Specifically, inserting a <cite>DEFAULT</cite> value into an <cite>AUTO_INCREMENT</cite> column may return duplicate key errors.</p>
<p>This parameter enables a workaround for the bug on Galera Cluster.</p>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see if this variable is enabled:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_drupal_28255_workaround&#39;</span><span class="p">;</span>

<span class="o">+-------------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>                 <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+-------------------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_drupal_28255_workaround</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+-------------------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-forced-binlog-format"><code class="docutils literal"><span class="pre">wsrep_forced_binlog_format</span></code></p>
<p id="index-16">This parameter defines the binary log format for all transactions.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-forced-binlog-format</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_forced_binlog_format</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Enumeration</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">NONE</span></code></td>
</tr>
<tr class="row-odd"><td>Valid Values</td>
<td><code class="docutils literal"><span class="pre">ROW</span></code>, <code class="docutils literal"><span class="pre">STATEMENT</span></code>, <code class="docutils literal"><span class="pre">MIXED</span></code>, <code class="docutils literal"><span class="pre">NONE</span></code></td>
</tr>
<tr class="row-even"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>The node uses the format given by this parameter regardless of the client session variable <a class="reference external" href="https://dev.mysql.com/doc/refman/5.5/en/binary-log-setting.html">binlog_format</a>.  Valid choices for this parameter are: <code class="docutils literal"><span class="pre">ROW</span></code>, <code class="docutils literal"><span class="pre">STATEMENT</span></code>, and <code class="docutils literal"><span class="pre">MIXED</span></code>.  Additionally, there is the special value <code class="docutils literal"><span class="pre">NONE</span></code>, which means that there is no forced format in effect for the binary logs. When set to a value other than <code class="docutils literal"><span class="pre">NONE</span></code>, this parameter forces all transactions to use a given binary log format.</p>
<p>This variable was introduced to support <code class="docutils literal"><span class="pre">STATEMENT</span></code> format replication during <a class="reference internal" href="glossary.html#term-rolling-schema-upgrade"><span class="xref std std-term">Rolling Schema Upgrade</span></a>.  In most cases, however, <code class="docutils literal"><span class="pre">ROW</span></code> format replication is valid for asymmetric schema replication.</p>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with a <code class="docutils literal"><span class="pre">LIKE</span></code> operator to see how this variable is set:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_forced_binlog_format&#39;</span><span class="p">;</span>

<span class="o">+----------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>              <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+----------------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_forced_binlog_format</span> <span class="o">|</span> <span class="n">NONE</span>  <span class="o">|</span>
<span class="o">+----------------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-load-data-splitting"><code class="docutils literal"><span class="pre">wsrep_load_data_splitting</span></code></p>
<p id="index-17">This parameter defines whether the node splits large <code class="docutils literal"><span class="pre">LOAD</span> <span class="pre">DATA</span></code> commands into more manageable units.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-load-data-splitting</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_load_data_splitting</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>When loading huge amounts of data creates problems for Galera Cluster, in that they eventually reach a size that is too large for the node to rollback completely the operation in the event of a conflict and whatever gets committed stays committed.</p>
<p>This parameter tells the node to split <code class="docutils literal"><span class="pre">LOAD</span> <span class="pre">DATA</span></code> commands into transactions of 10,000 rows or less, making the data more manageable for the cluster.  This deviates from the standard behavior for MySQL.</p>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement to see how this variable is set:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_load_data_splitting&#39;</span><span class="p">;</span>

<span class="o">+---------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>             <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+---------------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_load_data_splitting</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+---------------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-log-conflicts"><code class="docutils literal"><span class="pre">wsrep_log_conflicts</span></code></p>
<p id="index-18">This parameter defines whether the node logs additional information about conflicts.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-log-conflicts</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_log_conflicts</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>No</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>In Galera Cluster, the database server uses the standard logging features of MySQL, MariaDB and Percona XtraDB.  This parameter enables additional information for the logs pertaining to conflicts. You may find this useful in troubleshooting replication problems. You can also log conflict information with the wsrep Provider option <a class="reference internal" href="galera-parameters.html#cert-log-conflicts"><span class="std std-ref">cert.log_conflicts</span></a>.</p>
<p>The additional information includes the table and schema where the conflict occurred, as well as the actual values for the keys that produced the conflict.</p>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement to see if this feature is enabled:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_log_conflicts&#39;</span><span class="p">;</span>

<span class="o">+---------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>       <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+---------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_log_conflicts</span> <span class="o">|</span> <span class="n">OFF</span>   <span class="o">|</span>
<span class="o">+---------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-max-ws-rows"><code class="docutils literal"><span class="pre">wsrep_max_ws_rows</span></code></p>
<p id="index-19">With this parameter you can set the maximum number of rows the node allows in a write-set.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-max-ws-rows</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_max_ws_rows</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>If set to a value greater than <code class="docutils literal"><span class="pre">0</span></code>, this parameter sets the maximum number of rows that the node allows in a write-set.</p>
<p>You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement to see the current value of this parameter:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_max_ws_rows&#39;</span><span class="p">;</span>

<span class="o">+-------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>     <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+-------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_max_ws_rows</span> <span class="o">|</span> <span class="mi">128</span>   <span class="o">|</span>
<span class="o">+-------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-max-ws-size"><code class="docutils literal"><span class="pre">wsrep_max_ws_size</span></code></p>
<p id="index-20">You can set the maximum size the node allows for write-sets with this parameter.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-max-ws-size</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_max_ws_size</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">2G</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter sets the maximum size that the node allows for a write-set.  Currently, this value limits the supported size of transactions and of <code class="docutils literal"><span class="pre">LOAD</span> <span class="pre">DATA</span></code> statements.</p>
<p>The maximum allowed write-set size is <code class="docutils literal"><span class="pre">2G</span></code>.  You can execute the following <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement to see the current value of this parameter:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_max_ws_size&#39;</span><span class="p">;</span>

<span class="o">+-------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>     <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+-------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_max_ws_size</span> <span class="o">|</span> <span class="mi">2</span><span class="n">G</span>    <span class="o">|</span>
<span class="o">+-------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-node-address"><code class="docutils literal"><span class="pre">wsrep_node_address</span></code></p>
<p id="index-21">This parameter is used to note the IP address and port of the node.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-node-address</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_node_address</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>Server IP Address, Port <code class="docutils literal"><span class="pre">4567</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>The node passes its IP address and port number to the <a class="reference internal" href="glossary.html#term-galera-replication-plugin"><span class="xref std std-term">Galera Replication Plugin</span></a>, where it&#8217;s used as the base address in cluster communications.  By default, the node pulls the address of the first network interface and uses the default port for Galera Cluster.  Typically, this is the address of <code class="docutils literal"><span class="pre">eth0</span></code> or <code class="docutils literal"><span class="pre">enp2s0</span></code> on port <code class="docutils literal"><span class="pre">4567</span></code>.</p>
<p>While the default behavior is often sufficient, there are situations in which this auto-guessing function produces unreliable results.  Some common reasons are the following:</p>
<ul class="simple">
<li>Servers with multiple network interfaces;</li>
<li>Servers that run multiple nodes;</li>
<li>Network Address Translation (NAT);</li>
<li>Clusters with nodes in more than one region;</li>
<li>Container deployments, such as with Docker and jails; and</li>
<li>Cloud deployments, such as with Amazon EC2 and OpenStack.</li>
</ul>
<p>In these scenarios, since auto-guess of the IP address does not produce the correct result, you will need to provide an explicit value for this parameter.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In addition to defining the node address and port, this parameter also provides the default values for the <a class="reference internal" href="#wsrep-sst-receive-address"><span class="std std-ref">wsrep_sst_receive_address</span></a> parameter and the <a class="reference internal" href="galera-parameters.html#ist-recv-addr"><span class="std std-ref">ist.recv_addr</span></a> option.</p>
</div>
<p>In some cases, you may need to provide a different value.  For example, Galera Cluster running on Amazon EC2 requires that you use the global DNS name instead of the local IP address.</p>
<p>You can execute the <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement as shown below to get the current value of this parameter:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_node_address&#39;</span><span class="p">;</span>

<span class="o">+--------------------+-------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>      <span class="o">|</span> <span class="n">Value</span>       <span class="o">|</span>
<span class="o">+--------------------+-------------+</span>
<span class="o">|</span> <span class="n">wsrep_node_address</span> <span class="o">|</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span> <span class="o">|</span>
<span class="o">+--------------------+-------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-node-incoming-address"><code class="docutils literal"><span class="pre">wsrep_node_incoming_address</span></code></p>
<p id="index-22">This parameter is used to provide the IP address and port from which the node should expect client connections.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-node-incoming-address</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_node_incoming_address</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter defines the IP address and port number at which the node should expect to receive client connections.  It&#8217;s intended for integration with load balancers. For now, it&#8217;s otherwise unused by the node.</p>
<p>You can execute the <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with the <code class="docutils literal"><span class="pre">LIKE</span></code> operator as shown below to get the IP address and port setting of this parameter:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_node_incoming_address&#39;</span><span class="p">;</span>

<span class="o">+-----------------------------+------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>               <span class="o">|</span> <span class="n">Value</span>            <span class="o">|</span>
<span class="o">+-----------------------------+------------------+</span>
<span class="o">|</span> <span class="n">wsrep_node_incoming_address</span> <span class="o">|</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">:</span><span class="mi">3306</span> <span class="o">|</span>
<span class="o">+-----------------------------+------------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-node-name"><code class="docutils literal"><span class="pre">wsrep_node_name</span></code></p>
<p id="index-23">You can set the logical name that the node uses for itself with this parameter.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-node-name</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_node_name</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>Server Hostname</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter defines the logical name that the node uses when referring to itself in logs and in the cluster.  It&#8217;s for convenience, to help you in identifying nodes in the cluster by means other than the node address.</p>
<p>By default, the node uses the server hostname.  In some situations, you may need explicitly to set it. You would do this when using container deployments with Docker or FreeBSD jails, where the node uses the name of the container rather than the hostname.</p>
<p>You can execute the <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">VARIABLES</span></code> statement with the <code class="docutils literal"><span class="pre">LIKE</span></code> operator as shown below to get the node name:</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_node_name&#39;</span><span class="p">;</span>

<span class="o">+-----------------+-------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>   <span class="o">|</span> <span class="n">Value</span>       <span class="o">|</span>
<span class="o">+-----------------+-------------+</span>
<span class="o">|</span> <span class="n">wsrep_node_name</span> <span class="o">|</span> <span class="n">GaleraNode1</span> <span class="o">|</span>
<span class="o">+-----------------+-------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-notify-cmd"><code class="docutils literal"><span class="pre">wsrep_notify_cmd</span></code></p>
<p id="index-24">Defines the command the node runs whenever cluster membership or the state of the node changes.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-notify-cmd</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_notify_cmd</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>Whenever the node registers changes in cluster membership or its own state, this parameter allows you to send information about that change to an external script defined by the value.  You can use this to reconfigure load balancers, raise alerts and so on, in response to node and cluster activity.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The node will block and wait until the script completes and returns before it can proceed. If the script performs any potentially blocking or long-running operations, such as network communication, you may wish initiate such operations in the background and have the script return immediately.</p>
</div>
<p>For an example script that updates two tables on the local node, with changes taking place at the cluster level, see the <a class="reference internal" href="notification-cmd.html"><span class="doc">Notification Command</span></a>.</p>
<p>When the node calls the command, it passes one or more arguments that you can use in configuring your custom notification script and how it responds to the change.  Below are these options and explanations of each:</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Purpose</th>
<th class="head">Possible Values</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--status</span> <span class="pre">&lt;status</span> <span class="pre">str&gt;</span></code></td>
<td>The status of this node.</td>
<td><code class="docutils literal"><span class="pre">Undefined</span></code> The node has just started up and is not connected to any <a class="reference internal" href="glossary.html#term-primary-component"><span class="xref std std-term">Primary Component</span></a>.</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><code class="docutils literal"><span class="pre">Joiner</span></code> The node is connected to a primary component and now is receiving state snapshot.</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><code class="docutils literal"><span class="pre">Donor</span></code> The node is connected to primary component and now is sending state snapshot.</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><code class="docutils literal"><span class="pre">Joined</span></code> The node has a complete state and now is catching up with the cluster.</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><code class="docutils literal"><span class="pre">Synced</span></code> The node has synchronized itself with the cluster.</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><code class="docutils literal"><span class="pre">Error(&lt;error</span> <span class="pre">code</span> <span class="pre">if</span> <span class="pre">available&gt;)</span></code> The node is in an error state.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--uuid</span> <span class="pre">&lt;state</span> <span class="pre">UUID&gt;</span></code></td>
<td>The cluster state UUID.</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">--primary</span> <span class="pre">&lt;yes/no&gt;</span></code></td>
<td>Whether the current cluster component is primary or not.</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">--members</span> <span class="pre">&lt;list&gt;</span></code></td>
<td>A comma-separated list of the component member UUIDs.</td>
<td><code class="docutils literal"><span class="pre">&lt;node</span> <span class="pre">UUID&gt;</span></code>; A unique node ID. The wsrep Provider automatically assigns this ID for each node.</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><code class="docutils literal"><span class="pre">&lt;node</span> <span class="pre">name&gt;</span></code>; The node name as it is set in the <code class="docutils literal"><span class="pre">wsrep_node_name</span></code> option.</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><code class="docutils literal"><span class="pre">&lt;incoming</span> <span class="pre">address&gt;</span></code>; The address for client connections as it is set in the <code class="docutils literal"><span class="pre">wsrep_node_incoming_address</span></code> option.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">--index</span></code></td>
<td>The index of this node in the node list.</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_notify_cmd&#39;</span><span class="p">;</span>

<span class="o">+------------------+--------------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>    <span class="o">|</span> <span class="n">Value</span>                    <span class="o">|</span>
<span class="o">+------------------+--------------------------+</span>
<span class="o">|</span> <span class="n">wsrep_notify_cmd</span> <span class="o">|</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">wsrep_notify</span><span class="p">.</span><span class="n">sh</span> <span class="o">|</span>
<span class="o">+------------------+--------------------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-on"><code class="docutils literal"><span class="pre">wsrep_on</span></code></p>
<p id="index-25">Defines whether replication takes place for updates from the current session.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td>???</td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_on</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Session</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter defines whether or not updates made in the current session replicate to the cluster.  It does not cause the node to leave the cluster and the node continues to communicate with other nodes.  Additionally, it is a session variable.  Defining it through the <code class="docutils literal"><span class="pre">SET</span> <span class="pre">GLOBAL</span></code> syntax also affects future sessions.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_on&#39;</span><span class="p">;</span>

<span class="o">+---------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span> <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+---------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_on</span>      <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+---------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-osu-method"><code class="docutils literal"><span class="pre">wsrep_OSU_method</span></code></p>
<p id="index-26">Defines the Online Schema Upgrade method the node uses to replicate <abbr title="Data Definition Language">DDL</abbr> statements.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-OSU-method</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_OSU_method</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global, Session</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Enumeration</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">TOI</span></code></td>
</tr>
<tr class="row-odd"><td>Valid Values</td>
<td><code class="docutils literal"><span class="pre">TOI</span></code>, <code class="docutils literal"><span class="pre">RSU</span></code></td>
</tr>
<tr class="row-even"><td>Initial Version</td>
<td>Version 3, Patch 5.5.17-22.3</td>
</tr>
</tbody>
</table>
<p>DDL statements are non-transactional and as such don&#8217;t replicate through write-sets.  There are two methods available that determine how the node handles replicating these statements:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">TOI</span></code>  In the <a class="reference internal" href="glossary.html#term-total-order-isolation"><span class="xref std std-term">Total Order Isolation</span></a> method, the cluster runs the DDL statement on all nodes in the same total order sequence, blocking other transactions from committing while the DDL is in progress.</li>
<li><code class="docutils literal"><span class="pre">RSU</span></code> In the <a class="reference internal" href="glossary.html#term-rolling-schema-upgrade"><span class="xref std std-term">Rolling Schema Upgrade</span></a> method, the node runs the DDL statements locally, thus blocking only the one node where the statement was made.  While processing the DDL statement, the node is not replicating and may be unable to process replication events due to a table lock.  Once the DDL operation is complete, the node catches up and syncs with the cluster to become fully operational again.  The DDL statement or its effects are not replicated; the user is responsible for manually executing this statement on each node in the cluster.</li>
</ul>
<p>For more information on DDL statements and OSU methods, see <a class="reference internal" href="schema-upgrades.html"><span class="doc">Schema Upgrades</span></a>.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_OSU_method&#39;</span><span class="p">;</span>

<span class="o">+------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>    <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_OSU_method</span> <span class="o">|</span> <span class="n">TOI</span>   <span class="o">|</span>
<span class="o">+------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-preordered"><code class="docutils literal"><span class="pre">wsrep_preordered</span></code></p>
<p id="index-27">Defines whether the node uses transparent handling of preordered replication events.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-preordered</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_preordered</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter enables transparent handling of preordered replication events, such as replication events arriving from traditional asynchronous replication. When this option is <code class="docutils literal"><span class="pre">ON</span></code>, such events will be applied locally first before being replicated to the other nodes of the cluster. This could increase the rate at which they can be processed which would be otherwise limited by the latency between the nodes in the cluster.</p>
<p>Preordered events should not interfere with events that originate on the local node. Therefore, you should not run local update queries on a table that is also being updated through asynchronous replication.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_preordered&#39;</span><span class="p">;</span>

<span class="o">+------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>    <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_preordered</span> <span class="o">|</span> <span class="n">OFF</span>   <span class="o">|</span>
<span class="o">+------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-provider"><code class="docutils literal"><span class="pre">wsrep_provider</span></code></p>
<p id="index-28">Defines the path to the <a class="reference internal" href="glossary.html#term-galera-replication-plugin"><span class="xref std std-term">Galera Replication Plugin</span></a>.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-provider</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_provider</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>File</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>When the node starts, it needs to load the wsrep Provider in order to enable replication functions.  The path defined in this parameter tells it what file it needs to load and where to find it.  In the event that you do not define this path or you give it an invalid value, the node bypasses all calls to the wsrep Provider and behaves as a standard standalone instance of MySQL.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_provider&#39;</span><span class="p">;</span>

<span class="o">+----------------+----------------------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>  <span class="o">|</span> <span class="n">Value</span>                            <span class="o">|</span>
<span class="o">+----------------+----------------------------------+</span>
<span class="o">|</span> <span class="n">wsrep_provider</span> <span class="o">|</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">galera</span><span class="o">/</span><span class="n">libgalera_smm</span><span class="p">.</span><span class="n">so</span> <span class="o">|</span>
<span class="o">+----------------+----------------------------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-provider-options"><code class="docutils literal"><span class="pre">wsrep_provider_options</span></code></p>
<p id="index-29">Defines optional settings the node passes to the wsrep Provider.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-provider-options</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_provider_options</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>When the node loads the wsrep Provider, there are several configuration options available that affect how it handles certain events.  These allow you to fine tune how it handles various situations.</p>
<p>For example, you can use <a class="reference internal" href="galera-parameters.html#gcache-size"><span class="std std-ref">gcache.size</span></a> to define how large a write-set cache the node keeps or manage group communications timeouts.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All <code class="docutils literal"><span class="pre">wsrep_provider_options</span></code> settings need to be specified on a single line. In case of multiple instances of <code class="docutils literal"><span class="pre">wsrep_provider_options</span></code>, only the last one is used.</p>
</div>
<p>For more information on the wsrep Provider options, see <a class="reference internal" href="galera-parameters.html"><span class="doc">Galera Parameters</span></a>.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_provider_options&#39;</span><span class="p">;</span>

<span class="o">+------------------------+-----------------------------------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>          <span class="o">|</span> <span class="n">Value</span>                                         <span class="o">|</span>
<span class="o">+------------------------+-----------------------------------------------+</span>
<span class="o">|</span> <span class="n">wsrep_provider_options</span> <span class="o">|</span> <span class="p">...</span> <span class="n">evs</span><span class="p">.</span><span class="n">user_send_window</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">gcache</span><span class="p">.</span><span class="n">size</span><span class="o">=</span><span class="mi">128</span><span class="n">Mb</span>  <span class="o">|</span>
<span class="o">|</span>                        <span class="o">|</span> <span class="n">evs</span><span class="p">.</span><span class="n">auto_evict</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">debug</span><span class="o">=</span><span class="n">OFF</span><span class="p">,</span> <span class="n">evs</span><span class="p">.</span><span class="n">version</span><span class="o">=</span><span class="mi">0</span> <span class="p">...</span> <span class="o">|</span>
<span class="o">+------------------------+-----------------------------------------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-reject-queries"><code class="docutils literal"><span class="pre">wsrep_reject_queries</span></code></p>
<p>Defines whether the node rejects client queries while participating in the cluster.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_reject_queries</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Array</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">NONE</span></code></td>
</tr>
<tr class="row-odd"><td>Valid Values</td>
<td><code class="docutils literal"><span class="pre">NONE</span></code>, <code class="docutils literal"><span class="pre">ALL</span></code>, <code class="docutils literal"><span class="pre">ALL_KILL</span></code></td>
</tr>
<tr class="row-even"><td>Initial Version</td>
<td>Version ???</td>
</tr>
</tbody>
</table>
<p>When in use, this parameter causes the node to reject queries from client connections.  The node continues to participate in the cluster and apply write-sets, but client queries generate <code class="docutils literal"><span class="pre">Unknown</span> <span class="pre">command</span></code> errors.  For instance,</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">my_table</span><span class="p">;</span>

<span class="n">Error</span> <span class="mi">1047</span><span class="p">:</span> <span class="n">Unknown</span> <span class="n">command</span>
</pre></div>
</div>
<p>You may find this parameter useful in certain maintenance situations.  In enabling it, you can also decide whether or not the node maintains or kills any current client connections.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">NONE</span></code> The node disables this feature.</li>
<li><code class="docutils literal"><span class="pre">ALL</span></code> The node enables this feature. It rejects all queries, but maintains any existing client connections.</li>
<li><code class="docutils literal"><span class="pre">ALL_KILL</span></code> The node enables this feature.  It rejects all queries and kills existing client connections without waiting, including the current connection.</li>
</ul>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_reject_queries&#39;</span><span class="p">;</span>

<span class="o">+----------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>        <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+----------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_reject_queries</span> <span class="o">|</span> <span class="n">NONE</span>  <span class="o">|</span>
<span class="o">+----------------------+-------+</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a MySQL wsrep parameter.  It was introduced in version 5.6.29.</p>
</div>
<p class="rubric-1 rubric" id="wsrep-restart-slave"><code class="docutils literal"><span class="pre">wsrep_restart_slave</span></code></p>
<p id="index-30">Defines whether the replication slave restarts when the node joins the cluster.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-restart-slave</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_restart_slave</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version ???</td>
</tr>
</tbody>
</table>
<p>Enabling this parameter tells the node to restart the replication slave when it joins the cluster.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_restart_slave&#39;</span><span class="p">;</span>

<span class="o">+---------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>       <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+---------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_restart_slave</span> <span class="o">|</span> <span class="n">OFF</span>   <span class="o">|</span>
<span class="o">+---------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-retry-autocommit"><code class="docutils literal"><span class="pre">wsrep_retry_autocommit</span></code></p>
<p id="index-31">Defines the number of retries the node attempts when an autocommit query fails.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-retry-autocommit</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_retry_autocommit</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Integer</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>When an autocommit query fails the certification test due to a cluster-wide conflict, the node can retry it without returning an error to the client.  This parameter defines how many times the node retries the query.  It is analogous to rescheduling an autocommit query should it go into deadlock with other transactions in the database lock manager.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_retry_autocommit&#39;</span><span class="p">;</span>

<span class="o">+------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>          <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+------------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_retry_autocommit</span> <span class="o">|</span> <span class="mi">1</span>     <span class="o">|</span>
<span class="o">+------------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-slave-fk-checks"><code class="docutils literal"><span class="pre">wsrep_slave_FK_checks</span></code></p>
<p id="index-32">Defines whether the node performs foreign key checking for applier threads.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-slave-FK-checks</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_slave_FK_checks</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">ON</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter enables foreign key checking on applier threads.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_slave_FK_checks&#39;</span><span class="p">;</span>

<span class="o">+-----------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>         <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+-----------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_slave_FK_checks</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+-----------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-slave-threads"><code class="docutils literal"><span class="pre">wsrep_slave_threads</span></code></p>
<p id="index-33">Defines the number of threads to use in applying slave write-sets.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-slave-threads</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_slave_threads</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Integer</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">1</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter allows you to define how many threads the node uses when applying slave write-sets.  Performance on the underlying system and hardware, the size of the database, the number of client connections, and the load your application puts on the server all factor in the need for threading, but not in a way that makes the scale of that need easy to predict.  Because of this, there is no strict formula to determine how many slave threads your node actually needs.</p>
<p>Instead of concrete recommendations, there are some general guidelines that you can use as a starting point in finding the value that works best for your system:</p>
<ul class="simple">
<li>It is rarely beneficial to use a value that is less than twice the number of CPU cores on your system.</li>
<li>Similarly, it is rarely beneficial to use a value that is more than one quarter the total number of client connections to the node.  While it is difficult to predict the number of client connections, being off by as much as 50% over or under is unlikely to make a difference.</li>
<li>From the perspective of resource utilization, it&#8217;s recommended that you keep to the lower end of slave threads.</li>
</ul>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_slave_threads&#39;</span><span class="p">;</span>

<span class="o">+---------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>       <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+---------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_slave_threads</span> <span class="o">|</span> <span class="mi">1</span>     <span class="o">|</span>
<span class="o">+---------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-slave-uk-checks"><code class="docutils literal"><span class="pre">wsrep_slave_UK_checks</span></code></p>
<p id="index-34">Defines whether the node performs unique key checking on applier threads.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-slave-UK-checks</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_slave_UK_checks</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version ???</td>
</tr>
</tbody>
</table>
<p>This parameter enables unique key checking on applier threads.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_slave_UK_checks&#39;</span><span class="p">;</span>

<span class="o">+-----------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>         <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+-----------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_slave_UK_checks</span> <span class="o">|</span> <span class="n">OFF</span>   <span class="o">|</span>
<span class="o">+-----------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-sst-auth"><code class="docutils literal"><span class="pre">wsrep_sst_auth</span></code></p>
<p id="index-35">Defines the authentication information to use in <a class="reference internal" href="glossary.html#term-state-snapshot-transfer"><span class="xref std std-term">State Snapshot Transfer</span></a>.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-sst-auth</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_sst_auth</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>When the node attempts a state snapshot transfer using the <a class="reference internal" href="glossary.html#term-logical-state-transfer-method"><span class="xref std std-term">Logical State Transfer Method</span></a>, the transfer script uses a client connection to the database server in order to obtain the data it needs to send.  This parameter provides the authentication information, (that is, the username and password), that the script uses to access the database servers of both sending and receiving nodes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Galera Cluster only uses this parameter for State Snapshot Transfers that use the Logical transfer method.  Currently, the only method to use the Logical transfer method is <code class="docutils literal"><span class="pre">mysqldump</span></code>.  For all other methods, the node doesn&#8217;t need this parameter.</p>
</div>
<p>Format this value to the pattern: <code class="docutils literal"><span class="pre">username:password</span></code>.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_sst_auth&#39;</span>

<span class="o">+----------------+---------------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>  <span class="o">|</span> <span class="n">Value</span>                     <span class="o">|</span>
<span class="o">+----------------+---------------------------+</span>
<span class="o">|</span> <span class="n">wsrep_sst_auth</span> <span class="o">|</span> <span class="n">wsrep_sst_user</span><span class="p">:</span><span class="n">mypassword</span> <span class="o">|</span>
<span class="o">+----------------+---------------------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-sst-donor"><code class="docutils literal"><span class="pre">wsrep_sst_donor</span></code></p>
<p id="index-36">Defines the name of the node that this node uses as a donor in state transfers.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-sst-donor</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_sst_donor</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>When the node requires a state transfer from the cluster, it looks for the most appropriate one available.  The group communications module monitors the node state for the purposes of Flow Control, state transfers and quorum calculations.  The node can be a donor if it is in the <code class="docutils literal"><span class="pre">SYNCED</span></code> state.  The first node in the <code class="docutils literal"><span class="pre">SYNCED</span></code> state in the index becomes the donor and is made unavailable for requests while serving as such.</p>
<p>If there are no free <code class="docutils literal"><span class="pre">SYNCED</span></code> nodes at the moment, the joining node reports in the logs:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>Requesting state transfer failed: -11(Resource temporarily unavailable).
 Will keep retrying every 1 second(s)
</pre></div>
</div>
<p>It continues retrying the state transfer request until it succeeds.  When the state transfer request does succeed, the node makes the following entry in the logs:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>Node 0 (XXX) requested state transfer from &#39;*any*&#39;. Selected 1 (XXX) as donor.
</pre></div>
</div>
<p>Using this parameter, you can tell the node which cluster node or nodes it should use instead for state transfers.  The names used in this parameter must match the names given with <a class="reference internal" href="#wsrep-node-name"><span class="std std-ref">wsrep_node_name</span></a> on the donor nodes.  The setting affects both Incremental State Transfers (IST) and Snapshot State Transfers (SST).</p>
<p>If the list contains a trailing comma, the remaining nodes in the cluster will also be considered if the nodes from the list are not available.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_sst_donor&#39;</span><span class="p">;</span>

<span class="o">+-----------------+--------------------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>   <span class="o">|</span> <span class="n">Value</span>                          <span class="o">|</span>
<span class="o">+-----------------+--------------------------------+</span>
<span class="o">|</span> <span class="n">wsrep_sst_donor</span> <span class="o">|</span> <span class="n">my_donor_node1</span><span class="p">,</span><span class="n">my_donor_node2</span><span class="p">,</span> <span class="o">|</span>
<span class="o">+-----------------+--------------------------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-sst-donor-rejects-queries"><code class="docutils literal"><span class="pre">wsrep_sst_donor_rejects_queries</span></code></p>
<span class="target" id="index-37"></span><p id="index-38">Defines whether the node rejects blocking client sessions on a node when it is serving as a donor in a blocking state transfer method, such as <code class="docutils literal"><span class="pre">mysqldump</span></code> and <code class="docutils literal"><span class="pre">rsync</span></code>.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-sst-donor-rejects-queries</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_sst_donor_rejects_queries</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Boolean</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">OFF</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter determines whether the node rejects blocking client sessions while it is sending state transfers using methods that block it as the donor.  In these situations, all queries return the error <code class="docutils literal"><span class="pre">ER_UNKNOWN_COM_ERROR</span></code>, that is they respond with <code class="docutils literal"><span class="pre">Unknown</span> <span class="pre">command</span></code>, just like the joining node does.</p>
<p>Given that a <a class="reference internal" href="glossary.html#term-state-snapshot-transfer"><span class="xref std std-term">State Snapshot Transfer</span></a> is scriptable, there is no way to tell whether the requested method is blocking or not.  You may also want to avoid querying the donor even with non-blocking state transfers.  As a result, when this parameter is enabled the donor node rejects queries regardless the state transfer and even if the initial request concerned a blocking-only transfer, (meaning, it also rejects during <code class="docutils literal"><span class="pre">xtrabackup</span></code>).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The <code class="docutils literal"><span class="pre">mysqldump</span></code> state transfer method does not work with the <code class="docutils literal"><span class="pre">wsrep_sst_donor_rejects_queries</span></code> parameter, given that <code class="docutils literal"><span class="pre">mysqldump</span></code> runs queries on the donor and there is no way to differentiate its session from the regular client session.</p>
</div>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_sst_donor_rejects_queries&#39;</span><span class="p">;</span>

<span class="o">+---------------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>                   <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+---------------------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_sst_donor_rejects_queries</span> <span class="o">|</span> <span class="n">OFF</span>   <span class="o">|</span>
<span class="o">+---------------------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-sst-method"><code class="docutils literal"><span class="pre">wsrep_sst_method</span></code></p>
<p id="index-39">Defines the method or script the node uses in a <a class="reference internal" href="glossary.html#term-state-snapshot-transfer"><span class="xref std std-term">State Snapshot Transfer</span></a>.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-sst-method</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_sst_method</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">rsync</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>When the node makes a state transfer request it calls on an external shell script to establish a connection a with the donor node and transfer the database state onto the local database server.  This parameter allows you to define what script the node uses in requesting state transfers.</p>
<p>Galera Cluster ships with a number of default scripts that the node can use in state snapshot transfers. The supported methods are:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">mysqldump</span></code> This is slow, except for small data-sets, but is the most tested option.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">rsync</span></code> This option is much faster than <code class="docutils literal"><span class="pre">mysqldump</span></code> on large data-sets.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can only use <code class="docutils literal"><span class="pre">rsync</span></code> when anode is starting.  You cannot use it with a running InnoDB storage engine.</p>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">rsync_wan</span></code> This option is almost the same as <code class="docutils literal"><span class="pre">rsync</span></code>, but uses the <code class="docutils literal"><span class="pre">delta-xfer</span></code> algorithm to minimize network traffic.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">xtrabackup</span></code> This option is a fast and practically non-blocking state transfer method based on the Percona <code class="docutils literal"><span class="pre">xtrabackup</span></code> tool.  If you want to use it, the following settings must be present in the <code class="docutils literal"><span class="pre">my.cnf</span></code> configuration file on all nodes:</p>
<div class="highlight-ini"><div class="highlight"><pre><span></span><span class="k">[mysqld]</span>
<span class="na">wsrep_sst_auth</span><span class="o">=</span><span class="s">YOUR_SST_USER:YOUR_SST_PASSWORD</span>
<span class="na">wsrep_sst_method</span><span class="o">=</span><span class="s">xtrabackup</span>
<span class="na">datadir</span><span class="o">=</span><span class="s">/path/to/datadir</span>

<span class="k">[client]</span>
<span class="na">socket</span><span class="o">=</span><span class="s">/path/to/socket</span>
</pre></div>
</div>
</li>
</ul>
<p>In addition to the default scripts provided and supported by Galera Cluster, you can also define your own custom state transfer script.  The naming convention that the node expects is for the value of this parameter to match <code class="docutils literal"><span class="pre">wsrep_%.sh</span></code>.  For instance, giving the node a transfer method of <code class="docutils literal"><span class="pre">MyCustomSST</span></code> causes it to look for <code class="docutils literal"><span class="pre">wsrep_MyCustomSST.sh</span></code> in <code class="docutils literal"><span class="pre">/usr/bin</span></code>.</p>
<p>Bear in mind, the cluster uses the same script to send and receive state transfers.  If you want to use a custom state transfer script, you need to place it on every node in the cluster.</p>
<p>For more information on scripting state snapshot transfers, see <a class="reference internal" href="scriptable-sst.html"><span class="doc">Scriptable State Snapshot Transfers</span></a>.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_sst_method&#39;</span><span class="p">;</span>

<span class="o">+------------------+-----------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>    <span class="o">|</span> <span class="n">Value</span>     <span class="o">|</span>
<span class="o">+------------------+-----------+</span>
<span class="o">|</span> <span class="n">wsrep_sst_method</span> <span class="o">|</span> <span class="n">mysqldump</span> <span class="o">|</span>
<span class="o">+------------------+-----------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-sst-receive-address"><code class="docutils literal"><span class="pre">wsrep_sst_receive_address</span></code></p>
<p id="index-40">Defines the address from which the node expects to receive state transfers.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-sst-receive-address</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_sst_receive_address</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><a class="reference internal" href="#wsrep-node-address"><span class="std std-ref">wsrep_node_address</span></a></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter defines the address from which the node expects to receive state transfers.  It is dependent on the <a class="reference internal" href="glossary.html#term-state-snapshot-transfer"><span class="xref std std-term">State Snapshot Transfer</span></a> method the node uses.</p>
<p>For example, <code class="docutils literal"><span class="pre">mysqldump</span></code> uses the address and port on which the node listens, which by default is set to the value of <a class="reference internal" href="#wsrep-node-address"><span class="std std-ref">wsrep_node_address</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Check that your firewall allows connections to this address from other cluster nodes.</p>
</div>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_sst_receive_address&#39;</span><span class="p">;</span>

<span class="o">+---------------------------+-------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>             <span class="o">|</span> <span class="n">Value</span>       <span class="o">|</span>
<span class="o">+---------------------------+-------------+</span>
<span class="o">|</span> <span class="n">wsrep_sst_receive_address</span> <span class="o">|</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span> <span class="o">|</span>
<span class="o">+---------------------------+-------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-start-position"><code class="docutils literal"><span class="pre">wsrep_start_position</span></code></p>
<p id="index-41">Defines the node start position.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-start-position</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_start_position</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">00000000-0000-0000-0000-00000000000000:-1</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 1.0</td>
</tr>
</tbody>
</table>
<p>This parameter defines the node start position.  It exists for the sole purpose of notifying the joining node of the completion of a state transfer.</p>
<p>For more information on scripting state snapshot transfers, see <a class="reference internal" href="scriptable-sst.html"><span class="doc">Scriptable State Snapshot Transfers</span></a>.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_start_position&#39;</span><span class="p">;</span>

<span class="o">+----------------------+-----------------------------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>        <span class="o">|</span> <span class="n">Value</span>                                   <span class="o">|</span>
<span class="o">+----------------------+-----------------------------------------+</span>
<span class="o">|</span> <span class="n">wsrep_start_position</span> <span class="o">|</span> <span class="mi">00000000</span><span class="o">-</span><span class="mi">0000</span><span class="o">-</span><span class="mi">0000</span><span class="o">-</span><span class="mi">0000</span><span class="o">-</span><span class="mi">000000000000</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span> <span class="o">|</span>
<span class="o">+----------------------+-----------------------------------------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-sync-wait"><code class="docutils literal"><span class="pre">wsrep_sync_wait</span></code></p>
<span class="target" id="index-42"></span><p id="index-43">Defines whether the node enforces strict cluster-wide causality checks.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-sync-wait</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_sync_wait</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Session</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Bitmask</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 3.6</td>
</tr>
</tbody>
</table>
<p>When you enable this parameter, the node triggers causality checks in response to certain types of queries.  During the check, the node blocks new queries while the database server catches up with all updates made in the cluster to the point where the check was begun.  Once it reaches this point, the node executes the original query.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Causality checks of any type can result in increased latency.</p>
</div>
<p>This value of this parameter is a bitmask, which determines the type of check you want the node to run.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Bitmask</th>
<th class="head">Checks</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">0</span></code></td>
<td>Disabled.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">1</span></code></td>
<td>Checks on <code class="docutils literal"><span class="pre">READ</span></code> statements, including <code class="docutils literal"><span class="pre">SELECT</span></code>, and <code class="docutils literal"><span class="pre">BEGIN</span></code> / <code class="docutils literal"><span class="pre">START</span> <span class="pre">TRANSACTION</span></code>. Checks on <code class="docutils literal"><span class="pre">SHOW</span></code> (up to versions 5.5.54, 5.6.35, 5.7.17)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">2</span></code></td>
<td>Checks made on <code class="docutils literal"><span class="pre">UPDATE</span></code> and <code class="docutils literal"><span class="pre">DELETE</span></code> statements.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">3</span></code></td>
<td>Checks made on <code class="docutils literal"><span class="pre">READ</span></code>, <code class="docutils literal"><span class="pre">UPDATE</span></code> and <code class="docutils literal"><span class="pre">DELETE</span></code> statements.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">4</span></code></td>
<td>Checks made on <code class="docutils literal"><span class="pre">INSERT</span></code> and <code class="docutils literal"><span class="pre">REPLACE</span></code> statements.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">8</span></code></td>
<td>Checks made on <code class="docutils literal"><span class="pre">SHOW</span></code> statements.</td>
</tr>
</tbody>
</table>
<p>For example, say that you have a web application.  At one point in its run, you need it to perform a critical read.  That is, you want the application to access the database server and run a <code class="docutils literal"><span class="pre">SELECT</span></code> query that must return the most up to date information possible.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="kt">SET</span> <span class="n">SESSION</span> <span class="n">wsrep_sync_wait</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">example</span> <span class="k">WHERE</span> <span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span><span class="p">;</span>
<span class="kt">SET</span> <span class="n">SESSION</span> <span class="n">wsrep_sync_wait</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
<p>In the example, the application first runs a <code class="docutils literal"><span class="pre">SET</span></code> command to enable <a class="reference internal" href="#wsrep-sync-wait"><span class="std std-ref">wsrep_sync_wait</span></a> for <code class="docutils literal"><span class="pre">READ</span></code> statements, then it makes a <code class="docutils literal"><span class="pre">SELECT</span></code> query.  Rather than running the query, the node initiates a causality check, blocking incoming queries while it catches up with the cluster.  When the node finishes applying the new transaction, it executes the <code class="docutils literal"><span class="pre">SELECT</span></code> query and returns the results to the application.  The application, having finished the critical read, disables <a class="reference internal" href="#wsrep-sync-wait"><span class="std std-ref">wsrep_sync_wait</span></a>, returning the node to normal operation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Setting <a class="reference internal" href="#wsrep-sync-wait"><span class="std std-ref">wsrep_sync_wait</span></a> to <code class="docutils literal"><span class="pre">1</span></code> is the same as <a class="reference internal" href="#wsrep-causal-reads"><span class="std std-ref">wsrep_causal_reads</span></a> to <code class="docutils literal"><span class="pre">ON</span></code>.  This deprecates <a class="reference internal" href="#wsrep-causal-reads"><span class="std std-ref">wsrep_causal_reads</span></a>.</p>
</div>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_sync_wait&#39;</span><span class="p">;</span>

<span class="o">+-----------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>   <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+-----------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_sync_wait</span> <span class="o">|</span> <span class="mi">0</span>     <span class="o">|</span>
<span class="o">+-----------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-trx-fragment-size"><code class="docutils literal"><span class="pre">wsrep_trx_fragment_size</span></code></p>
<span class="target" id="index-44"></span><span class="target" id="index-45"></span><p id="index-46">Defines the number of replication units needed to generate a new fragment in Streaming Replication.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-trx-fragment-size</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_trx_fragment_size</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Session</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>Integer</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">0</span></code></td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version 4.0</td>
</tr>
</tbody>
</table>
<p>In <a class="reference internal" href="glossary.html#term-streaming-replication"><span class="xref std std-term">Streaming Replication</span></a>, the node breaks transactions down into fragments, then replicates and certifies them while the transaction is in progress.  Once certified, a fragment can no longer be aborted due to conflicting transactions.  This parameter determines the number of replication units to include in a fragment.  To define what these units represent, use <a class="reference internal" href="#wsrep-trx-fragment-unit"><span class="std std-ref">wsrep_trx_fragment_unit</span></a>. A value of <code class="docutils literal"><span class="pre">0</span></code> indicates that streaming replication will not be used.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLE</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_trx_fragment_size&#39;</span><span class="p">;</span>

<span class="o">+-------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>           <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+-------------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_trx_fragment_size</span> <span class="o">|</span> <span class="mi">5</span>     <span class="o">|</span>
<span class="o">+-------------------------+-------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-trx-fragment-unit"><code class="docutils literal"><span class="pre">wsrep_trx_fragment_unit</span></code></p>
<span class="target" id="index-47"></span><span class="target" id="index-48"></span><p id="index-49">Defines the replication unit type to use in Streaming Replication.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-trx-fragment-unit</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_trx_fragment_unit</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Session</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td><code class="docutils literal"><span class="pre">bytes</span></code></td>
</tr>
<tr class="row-odd"><td>Valid Values</td>
<td><code class="docutils literal"><span class="pre">bytes</span></code>, <code class="docutils literal"><span class="pre">events</span></code>, <code class="docutils literal"><span class="pre">rows</span></code>, <code class="docutils literal"><span class="pre">statements</span></code></td>
</tr>
<tr class="row-even"><td>Initial Version</td>
<td>Version 4.0</td>
</tr>
</tbody>
</table>
<p>In <a class="reference internal" href="glossary.html#term-streaming-replication"><span class="xref std std-term">Streaming Replication</span></a>, the node breaks transactions down into fragments, then replicates and certifies them while the transaction is in progress.  Once certified, a fragment can no longer be aborted due to conflicting transactions.  This parameter determines the unit to use in determining the size of the fragment.  To define the number of replication units to use in the fragment, use <a class="reference internal" href="#wsrep-trx-fragment-size"><span class="std std-ref">wsrep_trx_fragment_size</span></a>.</p>
<p>Supported replication units are:</p>
<ul class="simple">
<li><strong>bytes</strong>: Refers to the fragment size in bytes.</li>
<li><strong>events</strong>: Refers to the number of binary log events in the fragment.</li>
<li><strong>rows</strong>: Refers to the number of rows updated in the fragment.</li>
<li><strong>statements</strong>: Refers to the number of SQL statements in the fragment.</li>
</ul>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLE</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_trx_fragment_unit&#39;</span><span class="p">;</span>

<span class="o">+-------------------------+--------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>           <span class="o">|</span> <span class="n">Value</span>  <span class="o">|</span>
<span class="o">+-------------------------+--------+</span>
<span class="o">|</span> <span class="n">wsrep_trx_fragment_unit</span> <span class="o">|</span> <span class="n">bytes</span>  <span class="o">|</span>
<span class="o">+-------------------------+--------+</span>
</pre></div>
</div>
<p class="rubric-1 rubric" id="wsrep-ws-persistency"><code class="docutils literal"><span class="pre">wsrep_ws_persistency</span></code></p>
<p id="index-50">Defines whether the node stores write-sets locally for debugging.</p>
<table border="1" class="doc-options docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command-line Format</td>
<td><code class="docutils literal"><span class="pre">--wsrep-ws-persistency</span></code></td>
</tr>
<tr class="row-even"><td>System Variable</td>
<td><code class="docutils literal"><span class="pre">wsrep_ws_persistency</span></code></td>
</tr>
<tr class="row-odd"><td>Variable Scope</td>
<td>Global</td>
</tr>
<tr class="row-even"><td>Dynamic Variable</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Permitted Values</td>
<td>String</td>
</tr>
<tr class="row-even"><td>Default Value</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Initial Version</td>
<td>Version ???, Deprecated in Version 0.8</td>
</tr>
</tbody>
</table>
<p>This parameter defines whether the node stores write-sets locally for debugging purposes.</p>
<div class="highlight-mysql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">VARIABLES</span> <span class="k">LIKE</span> <span class="s1">&#39;wsrep_ws_persistency&#39;</span><span class="p">;</span>

<span class="o">+----------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>        <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+----------------------+-------+</span>
<span class="o">|</span> <span class="n">wsrep_ws_persistency</span> <span class="o">|</span> <span class="k">ON</span>    <span class="o">|</span>
<span class="o">+----------------------+-------+</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html" title="index">
          <img class="logo" src="../_static/logo.png" alt="Logo"/>
        </a></p>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="reference.html"
                          title="Previous page">&larr; Reference</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="mysql-wsrep-functions.html"
                          title="Next page">&rarr; MySQL wsrep Functions</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 Â«
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 Â»
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
	<div class="navbar">
	<a id="mobile-menu-link" href="#">
	<span class="text">MENU</span>

	<div class="stripes">
	<div class="stripe"></div>
	<div class="stripe"></div>
	<div class="stripe"></div>
	</div>
	</a>

	<nav id="site-navigation" class="navigation main-navigation" role="navigation">
	<div class="nav-bar-container">

	<div id="menu-nav-bar" class="nav-menu">
		<ul class="nav-link">
			

				<li><a href="https://github.com/codership/documentation/edit/draft/galeracluster/source/documentation/mysql-wsrep-options.rst.rst" title="Edit 'MySQL wsrep Options' on Github">Edit on Github</a></li>

			 
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="mysql-wsrep-functions.html" title="MySQL wsrep Functions"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="reference.html" title="Reference"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">Galera Cluster Documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >The Codership Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="reference.html" accesskey="U">Reference</a> &#187;</li> 
      </ul>
    </div>
    </div>


			
				<li><a href="reference.html" title="Reference">&lt; Previous</a></li>
			

			
				<li><a href="mysql-wsrep-functions.html" title="MySQL wsrep Functions">Next &gt;</a></li>
			

		</ul>

	</div>
	</nav>

	<footer id="colophon" class="site-footer" role="contentinfo">
	<div class="top">	<div class="powered-by"><p>Powered by Galera:</p>
	<p><a href="https://mariadb.com/kb/en/galera/"><img class="alignleft size-full wp-image-237" alt="MariaDB" src="https://galeracluster.com/wp-content/uploads/2013/10/logo-mariadb.png" width="166" height="49" /></a></p>
		</div></div>
	<div class="footer-menu">
	<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="nav-menu"><li class="link-home menu-item menu-item-type-post_type menu-item-object-page menu-item-359"><a href="https://galeracluster.com/">Home</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-35"><a href="https://galeracluster.com/products/">Products</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-626"><a href="https://galeracluster.com/products/">Galera Cluster</a>
		<ul class="sub-menu">
			<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-827"><a href="https://galeracluster.com/products/#use-cases">Use cases</a></li>
			<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-722"><a href="https://galeracluster.com/products#success-stories">Success stories</a></li>
			<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-828"><a href="https://galeracluster.com/products/#case-studies">Case studies</a></li>
		</ul>
		</li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-713"><a href="https://galeracluster.com/products/technology/">Technology</a>
		<ul class="sub-menu">
			<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-829"><a href="https://galeracluster.com/products/technology/#white-papers-case-studies">White papers</a></li>
			<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-830"><a href="https://galeracluster.com/products/technology/#benchmarks">Benchmarks</a></li>
			<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-831"><a href="https://galeracluster.com/products/technology/#videos-presentations">Videos &#038; presentations</a></li>
		</ul>
	</li>
	</ul>
	</li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-34"><a href="https://galeracluster.com/downloads/">Downloads</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-832"><a href="https://galeracluster.com/downloads/#downloads">Software</a></li>
		<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-833"><a href="https://galeracluster.com/downloads/#partner-downloads">Partner downloads</a></li>
	</ul>
	</li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-12 current_page_item current-menu-ancestor current-menu-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-33"><a href="https://galeracluster.com/support/">Support</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-834"><a href="https://galeracluster.com/support/#support-partners">Support Partners</a></li>
		<li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-1099"><a href="https://galeracluster.com/support/#galera-cluster-support-subscription">Support Subscription</a></li>
		<li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-1100"><a href="https://galeracluster.com/support/#consulting">Consulting</a></li>
		<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1098"><a href="https://galeracluster.com/library/">Library (Documentation)</a></li>
	</ul>
	</li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-32"><a href="https://galeracluster.com/community/">Community</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="https://galeracluster.com/community/">Mailing List</a></li>
		<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1101"><a href="https://galeracluster.com/#social-media-plugins">Facebook feed</a></li>
	</ul>
	</li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-31"><a href="https://galeracluster.com/company/">Company</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="https://galeracluster.com/company/">Overview</a></li>
		<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-835"><a href="https://galeracluster.com/company/#carousel">What we believe</a></li>
		<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-836"><a href="https://galeracluster.com/company/#latest-press-releases">News</a></li>
		<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-838"><a href="https://galeracluster.com/company/#careers">Careers</a></li>
		<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-837"><a href="https://galeracluster.com/company/#the-codership-story">Galera Cluster Story</a></li>
	</ul>
	</li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-297"><a href="https://galeracluster.com/category/blog/">Blog</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38"><a href="https://galeracluster.com/contact-us/">Contact us</a></li>
	</ul></div>			</div><!-- .footer-menu -->
	<div class="footer-search">
	<div class="search-form">
	<form role="search" method="get" action="https://galeracluster.com/">
	<input type="search" class="search-field" value="" name="s" title="Search for:" />
	<input type="submit" class="search-submit" value="" />
	</form>
	</div>
	</div>

	<div class="footer-bar">
	<p class="copyright">2014 Codership Ltd.</p>
	<a href="https://www.nasa.gov/multimedia/imagegallery/" class="imagery" target="_blank">Images: NASA</a>
	</div>
	<div class="footnote">
	<h2>Your data is invaluable. We're here to secure it. All of it.</h2>
	</div>
	</footer><!-- #colophon -->




  </body>
</html>