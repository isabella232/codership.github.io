
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta content="Deploying a Cluster in Galera Manager" name="title" />
<meta content="en-US" name="language" />
<meta content="galera cluster, gmd, galera manager, gui" name="keywords" />
<meta content="Codership Oy, 2014 - 2020. All Rights Reserved." name="copyright" />

    <title>Deploying a Cluster in Galera Manager &#8212; Galera Cluster Documentation</title>
    <link rel="stylesheet" href="../_static/reset-style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Adding Nodes with Galera Manager" href="galera-manager-adding-nodes.html" />
    <link rel="prev" title="Galera Manager Daemon (gmd)" href="gmd.html" />


<script type="text/javascript" src="https://www.google.com/jsapi"></script>

<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<link rel="stylesheet" href="/library/_static/basic-style.css">
<link rel="stylesheet" href="/library/_static/header.css">
<link rel="stylesheet" href="/library/_static/footer.css">
<link rel="stylesheet" href="/library/_static/codership.css">
<link rel="stylesheet" media="screen and (max-width: 500px)" href="/library/_static/mobile.css"/>
<link rel="stylesheet" media="screen and (min-width:501px) and (max-width:1024px)" href="/library/_static/tablet.css"/>
<link rel="stylesheet" media="screen and (prefers-color-scheme: dark)" href="/library/_static/dark.css"/>


<link rel="alternate" type="application/rss+xml" title="Galera Cluster for MySQL &raquo; Feed" href="https://galeracluster.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Galera Cluster for MySQL &raquo; Comments Feed" href="https://galeracluster.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Galera Cluster for MySQL &raquo; Support Comments Feed" href="https://galeracluster.com/support/feed/" />

<script type='text/javascript' src='https://galeracluster.com/wp-includes/js/comment-reply.min.js?ver=3.8.3'></script>

<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://galeracluster.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://galeracluster.com/wp-includes/wlwmanifest.xml" />
<link rel='prev' title='Downloads' href='https://galeracluster.com/downloads/' />
<link rel='next' title='Community' href='https://galeracluster.com/community/' />
<meta name="generator" content="WordPress 3.8.3" />

<link rel='shortlink' href='https://galeracluster.com/?p=12' />

<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style type="text/css" id="twentythirteen-header-css">
			.site-title,
			.site-description {
				position: absolute;
				clip: rect(1px 1px 1px 1px); /* IE7 */
				clip: rect(1px, 1px, 1px, 1px);
			}
				.site-header .home-link {
				min-height: 0;
			}
</style>

<script type="text/javascript">

		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-35163478-6']);
		  _gaq.push(['_trackPageview']);

		  (function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'https://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();

</script>

  </head><body>
	<div id="fb-root"></div>
	<script>(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	</script>

	<div id="page" class="hfeed site">

	<header id="masthead" class="site-header" role="banner">

	<div class="top">
	<a class="home-link" href="https://galeracluster.com/" title="Galera Cluster for MySQL" rel="home">
	<h1 class="site-title">Galera Cluster for MySQL</h1>
	<h2 class="site-description">The world&#039;s most advanced open source database cluster</h2>
	</a>
	</div>


	<div id="navbar" class="navbar">
	<nav id="site-navigation" class="navigation main-navigation" role="navigation">
	<div class="menu-main-menu-container">

	<ul id="menu-main-menu" class="nav-menu">
	<li id="menu-item-359" class="link-home menu-item menu-item-type-post_type menu-item-object-page menu-item-359"><a href="https://galeracluster.com/">Home</a></li>
	<li id="menu-item-35" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-35"><a href="https://galeracluster.com/products/">Products</a></li>
	<li id="menu-item-34" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-34"><a href="https://galeracluster.com/downloads/">Downloads</a></li>
	<li id="menu-item-33" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-12 current_page_item current-menu-ancestor current-menu-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-33"><a href="https://galeracluster.com/support/">Support</a></li>
	<li id="menu-item-32" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-32"><a href="https://galeracluster.com/community/">Community</a></li>
	<li id="menu-item-31" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-31"><a href="https://galeracluster.com/company/">Company</a></li>
	<li id="menu-item-297" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-297"><a href="https://galeracluster.com/category/blog/">Blog</a></li>
	<li id="menu-item-38" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38"><a href="https://galeracluster.com/contact-us/">Contact us</a></li>
	</ul>
	</div>


	</nav><!-- #site-navigation -->

	</div><!-- #navbar -->
	</header><!-- #masthead -->


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="left-margin docutils container">
<div class="left-margin-top docutils container">
<a class="reference internal" href="../index.html"><span class="doc">The Library</span></a></div>
<div class="left-margin-content docutils container">
<ul class="here simple">
<li><a class="reference internal" href="index.html"><span class="doc">Documentation</span></a></li>
</ul>
<ul class="simple">
<li><a class="reference internal" href="../kb/index.html"><span class="doc">Knowledge Base</span></a></li>
<li><a class="reference internal" href="../training/index.html"><span class="doc">Training</span></a></li>
</ul>
<ul class="sub-links simple">
<li><a class="reference internal" href="../training/tutorials/index.html"><span class="doc">Tutorial Articles</span></a></li>
<li><a class="reference internal" href="../training/videos/index.html"><span class="doc">Training Videos</span></a></li>
</ul>
<ul class="simple">
<li><a class="reference internal" href="../faq.html"><span class="doc">FAQ</span></a></li>
</ul>
<p>Galera Manager Documents</p>
<ul class="simple">
<li><a class="reference internal" href="galera-manager.html"><span class="doc">Getting Started</span></a></li>
<li><a class="reference internal" href="gmd-install.html"><span class="doc">Installing</span></a></li>
<li><a class="reference internal" href="galera-manager-ports.html"><span class="doc">AWS Ports</span></a></li>
<li><a class="reference internal" href="gmd.html"><span class="doc">gmd Daemon</span></a></li>
</ul>
<ul class="here simple">
<li><a class="reference internal" href="#"><span class="doc">Deploying Clusters</span></a></li>
</ul>
<ul class="simple">
<li><a class="reference internal" href="galera-manager-adding-nodes.html"><span class="doc">Adding Nodes</span></a></li>
<li><a class="reference internal" href="galera-manager-adding-users.html"><span class="doc">Adding Users</span></a></li>
<li><a class="reference internal" href="galera-manager-initializing-data.html"><span class="doc">Loading Data</span></a></li>
<li><a class="reference internal" href="galera-manager-monitoring-clusters.html"><span class="doc">Monitoring a Cluster</span></a></li>
<li><a class="reference internal" href="gmd-upgrading.html"><span class="doc">Upgrading</span></a></li>
</ul>
</div>
</div>
<div class="top-links docutils container">
<ul class="simple">
<li><a class="reference external" href="https://galeracluster.com">Home</a></li>
</ul>
<ul class="here simple">
<li><a class="reference internal" href="index.html"><span class="doc">Docs</span></a></li>
</ul>
<ul class="simple">
<li><a class="reference internal" href="../kb/index.html"><span class="doc">KB</span></a></li>
</ul>
<ul class="nav-wider simple">
<li><a class="reference internal" href="../training/index.html"><span class="doc">Training</span></a></li>
</ul>
<ul class="simple">
<li><a class="reference internal" href="../faq.html"><span class="doc">FAQ</span></a></li>
</ul>
</div>
<div class="library-document section" id="deploying-a-cluster-in-galera-manager">
<span id="galera-manager-cluster-deployment"></span><h1>Deploying a Cluster in Galera Manager<a class="headerlink" href="#deploying-a-cluster-in-galera-manager" title="Permalink to this headline">¶</a></h1>
<p>With Galera Manager installed on your server or an <em>AWS Instance</em>, you’re ready to deploy a Galera Cluster. This page of the Codership documentation describes how to connect to Galera Manager, create a cluster and how to add nodes to a cluster. If you haven’t already installed Galera Manager, go to the <a class="reference internal" href="gmd-install.html"><span class="doc">Installing Galera Manager</span></a> documentation page to do that first.</p>
<p>Without Galera Manager, to create a Galera Cluster, you have to set up multiple servers or AWS Instances, and then install MySQL or MariaDB and Galera software on each.  You also have to configure each server or node.  It’s a fairly detailed process.  Instead, you can use the Galera Manager to make the process of creating a cluster and adding nodes simple and quick.</p>
<p class="section-heading rubric" id="galera-manager-new-clusters">Create a Cluster</p>
<p>To create a cluster in Galera Manager, click on <em>Create New Cluster</em>.  You’ll then see a large dialog box like the one below in Figure 1. In this box you will give the cluster a name, as well as make some default choices for creating nodes and hosts</p>
<div class="figure" id="id1">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-create-first-cluster.png"><img alt="Create New Cluster in Galera Manager" class="document-screenshot" src="../_images/galera-manager-create-first-cluster.png" style="width: 800px;" /></a>
<p class="caption"><span class="caption-text">Create Cluster Dialog Box (Figure 1)</span></p>
</div>
<p>Looking at the screenshot here, in the first section labeled <em>Cluster Configuration</em>, you can see that you have to provide a name for your cluster. In this example, the name <em>testeroo</em> was given, but you should enter something more meaningful to your organization or system—especially if you will be creating more than one cluster.</p>
<p>That’s all there is, per se, to the cluster configuration. A Galera Cluster is an association of nodes working together as equals, with all of the settings on the nodes. So the rest of the questions are related to the node and host levels.  The choices available for them are described in the next section.</p>
<p>Before proceeding, it’s worth taking a moment to be clear as to the difference between a node and a host in a Galera Cluster. A node is essentially the MySQL or MariaDB server (i.e., the <code class="docutils literal notranslate"><span class="pre">mysqld</span></code> daemon) interacting with the other nodes to replicate data changes among them. The host is the physical or virtual computer upon which the node is running.  This is why you will only see the names of hosts in the list of <em>Instances</em> on the AWS console, and only the names of nodes in the Galera and database logs. Galera Manager’s role is to facilitate the creating of <em>AWS Instances</em> for hosts, the assembling of nodes for a cluster, the installation of all of the needed software, and to track metrics in the cluster.  Basically, it does much of the mundane work usually performed by an administrator and makes monitoring clusters easier.</p>
<p class="section-heading rubric" id="galera-manager-node-configuration">Default Node Configuration</p>
<p>In the next section of the box shown in Figure 1, the section labeled <em>Node Configuration</em>, you’re asked to make default choices that will be used when you later add nodes to the cluster.  To be clear as to what’s discussed, below is the screenshot from Figure 1, but cropped around the default node configuration section:</p>
<div class="figure" id="id2">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-create-cluster-node-defaults.png"><img alt="Create Cluster - Host Defaults" class="document-screenshot" src="../_images/galera-manager-create-cluster-node-defaults.png" style="width: 800px;" /></a>
<p class="caption"><span class="caption-text">Host Defaults Section of Create Cluster Dialog Box (Figure 2)</span></p>
</div>
<p>The first field in this section asks you to specify whether you want to use MySQL or MariaDB, and the version of which one you choose. You’re asked to set the default database system for your nodes of the cluster because the nodes should all use the same version of the same database system.  You shouldn’t have one node in a cluster using MySQL and another MariaDB, or even have them all using MySQL, but different versions. If you create another cluster, however, it may use a different database system and version.</p>
<p class="sub-heading rubric" id="galera-manager-default-node-db-configuration">Database Engine Configuration</p>
<p>Next, to the right in Figure 2, you may provide some special settings for MySQL or Galera, extra entries you want to make to the configuration files on all of the node.  You would click on the icon of a cogwheel, where is says <em>Custom DB Engine Configuration</em>, to add those options or variable names with the values you want. Before doing this, though, you should be aware of what will be set by default by Galera Manager.</p>
<p>In Example 1 below is the contents of <code class="docutils literal notranslate"><span class="pre">/etc/mysql/mysql.conf.d/mysqld.cnf</span></code> on one of the nodes which is running Ubuntu—it’s the same for each node:</p>
<div class="literal-block-wrapper docutils container" id="mysqld-cnf-file-contents">
<div class="code-block-caption"><span class="caption-text">MySQL Daemon Configuration File (Example 1)</span><a class="headerlink" href="#mysqld-cnf-file-contents" title="Permalink to this code">¶</a></div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[mysqld]</span>
<span class="na">pid-file</span>     <span class="o">=</span> <span class="s">/var/run/mysqld/mysqld.pid</span>
<span class="na">socket</span> <span class="o">=</span> <span class="s">/var/run/mysqld/mysqld.sock</span>
<span class="na">datadir</span> <span class="o">=</span> <span class="s">/var/lib/mysql</span>
<span class="na">log-error</span> <span class="o">=</span> <span class="s">/var/log/mysql/error.log</span>
</pre></div>
</div>
</div>
<p>These are minimal settings for MySQL.  For Galera Cluster, there is an additional configuration file. These are the settings in <code class="docutils literal notranslate"><span class="pre">/etc/mysql/wsrep/conf.d/00.galera.cnf</span></code>, for the same node running Ubuntu:</p>
<div class="literal-block-wrapper docutils container" id="galera-cnf-file-contents">
<div class="code-block-caption"><span class="caption-text">Galera Configuration File (Example 2)</span><a class="headerlink" href="#galera-cnf-file-contents" title="Permalink to this code">¶</a></div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[mysqld]</span>
<span class="na">bind-address</span> <span class="o">=</span> <span class="s">0.0.0.0</span>
<span class="na">wsrep_on</span> <span class="o">=</span> <span class="s">ON</span>
<span class="hll"><span class="c1"># make it dynamic according to the distribution</span>
</span><span class="na">wsrep_provider</span> <span class="o">=</span> <span class="s">/usr/lib/galera/libgalera_smm.so</span>
<span class="hll"><span class="na">wsrep_cluster_address</span> <span class="o">=</span> <span class="s">&#39;gcomm://52.25.88.43,54.213.111.232,35.163.3.151&#39;</span>
</span><span class="hll"><span class="na">wsrep_cluster_name</span> <span class="o">=</span> <span class="s">&#39;testeroo&#39;</span>
</span><span class="hll"><span class="na">wsrep_node_name</span> <span class="o">=</span> <span class="s">&#39;noder-jfebk&#39;</span>
</span><span class="na">wsrep_sst_method</span> <span class="o">=</span> <span class="s">rsync</span>
<span class="na">binlog_format</span> <span class="o">=</span> <span class="s">row</span>
<span class="na">default_storage_engine</span> <span class="o">=</span> <span class="s">InnoDB</span>
<span class="na">innodb_autoinc_lock_mode</span> <span class="o">=</span> <span class="s">2</span>
<span class="na">log_error</span> <span class="o">=</span> <span class="s">/var/log/mysql/error.log</span>
<span class="na">general_log_file</span> <span class="o">=</span> <span class="s">/var/log//mysql/general.log</span>
<span class="na">general_log</span> <span class="o">=</span> <span class="s">1</span>
<span class="na">slow_query_log_file</span> <span class="o">=</span> <span class="s">/var/log/mysql/mysql-slow.log</span>
<span class="na">slow_query_log</span> <span class="o">=</span> <span class="s">1</span>
</pre></div>
</div>
</div>
<p>Although these excerpts were taken from Ubuntu nodes, the same settings will be found in nodes using other Linux distributions generated by Galera Manager. Notice that two lines were set for this particular cluster: <code class="docutils literal notranslate"><span class="pre">wsrep_cluster_address</span></code> contains all of the IP addresses of the nodes; and <code class="docutils literal notranslate"><span class="pre">wsrep_cluster_name</span></code> contains the name of the cluster.  There’s one line that is set for this particular node: <code class="docutils literal notranslate"><span class="pre">wsrep_node_name</span></code> contains the node’s name.  These adjustments are made by Galera Manager when adding nodes.</p>
<p>Again, if you want to add some other settings, perhaps setting values for InnoDB buffers, you add them to the box for <em>Custom DB Engine Configuration</em>. Below in Figure 3 is a screenshot of that box and how you might enter values:</p>
<div class="figure" id="id3">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-db-custom-configuration.png"><img alt="Create Cluster - Database Custom Configuration" class="document-screenshot" src="../_images/galera-manager-db-custom-configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Node Default Database Custom Configuration (Figure 3)</span></p>
</div>
<p>Notice that you have to include the <code class="docutils literal notranslate"><span class="pre">[mysqld]</span></code> heading. When you’re finished, click on <em>Set</em> to save.  At this time, you won’t be able to make changes to these settings once you finish creating the cluster. So be sure you have everything you want before clicking <em>Create</em>.  Otherwise, you’ll have to log into each node to make changes manually to the configuration files. In a future release, you will be able to edit these default settings from within Galera Manager.</p>
<p class="section-heading rubric" id="galera-manager-default-host-configuration">Default Host Configuration</p>
<p>The next section of the <em>Create Cluster</em> dialog box relates to how you want to create hosts, the servers on which nodes will be running. This has to do primarily with the operating system to install on the servers and how you will access those servers using <code class="docutils literal notranslate"><span class="pre">ssh</span></code>.</p>
<p>To make it easier to discuss, below is the screenshot from Figure 1, but this time cropped around the default host configuration section:</p>
<div class="figure" id="id4">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-create-cluster-host-defaults.png"><img alt="Create Cluster - Host Defaults" class="document-screenshot" src="../_images/galera-manager-create-cluster-host-defaults.png" style="width: 800px;" /></a>
<p class="caption"><span class="caption-text">Host Defaults Section of Create Cluster Dialog Box (Figure 4)</span></p>
</div>
<p>The first field allows you to chose the host type: <em>locallxd</em> or <em>ec2</em>. Choosing <em>locallxd</em> will instruct Galera Manager to generate Linux Containers, using the <code class="docutils literal notranslate"><span class="pre">lxd</span></code> daemon, to create hosts when you add nodes later.  They’ll all run on the same server where you have Galera Manager.  This option is primarily for testing purposes and shouldn’t generally be used.</p>
<p>Choosing <em>ec2</em> will use Amazon’s EC2 service to create separate <em>AWS Instances</em> for each host needed for each node you add to the cluster. When you choose this, there will be fields allowing you to choose which AWS region to use for hosts, and which type of <em>Instance</em>—these relate to the size and speed of the server.</p>
<p class="sub-heading rubric" id="galera-manager-default-host-aws-keys">AWS Access Keys</p>
<p>You will also be asked to provide your <em>Access Key</em> information so that Galera Manager may interface with AWS on your behalf. This information is secure and not shared with Codership: it’s confined to your installation of Galera Manager. Even if you already have a copy of the ID and the password, you may want create another key for use only by Galera Manager. You would do this on AWS’s site. To get to this page, log into the EC2 console. Then click where the name for your account is show. A pull-down menu will appear, as you see in the screenshot below:</p>
<div class="figure" id="id5">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-ec2-account-menu.png"><img alt="AWS Security Credentials" class="document-screenshot" src="../_images/galera-manager-ec2-account-menu.png" style="width: 150px;" /></a>
<p class="caption"><span class="caption-text">AWS Account Menu (Figure 5)</span></p>
</div>
<p>Click where it says, <em>My Security Credentials</em>.  This will take you to the <em>Identity and Access Management (IAM)</em> page.  Look in the main panel for the choice labeled, <em>Access Keys</em> and click on it to expand that sub-section.  Your screen will look something like the screenshot below:</p>
<div class="figure" id="id6">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-aws-security-credentials.png"><img alt="AWS Security Credentials" class="document-screenshot" src="../_images/galera-manager-aws-security-credentials.png" style="width: 800px;" /></a>
<p class="caption"><span class="caption-text">AWS Security Credentials (Figure 6)</span></p>
</div>
<p>Then just click on the blue button labeled, <em>Create New Access Key</em>.  It will immediately create a new <em>AWS Access Key ID</em> and <em>AWS Access Key</em>.  You’ll see a box appear like the one in the screenshot below:</p>
<div class="figure" id="id7">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-aws-created-access-key.png"><img alt="Created AWS Access Key" class="document-screenshot" src="../_images/galera-manager-aws-created-access-key.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Created AWS Access Key (Figure 7)</span></p>
</div>
<p>You can copy the text containing the <em>AWS Access Key ID</em> and the <em>AWS Access Key</em> (see Figure 7), and paste each of them into the appropriate fields in Galera Manager where you’re in the process of creating a cluster, in the <em>Default Host Configuration</em> section.  You may also want to click on the gray button that reads, <em>Download Key File</em> to download the <em>AWS Access Key</em>.  This will download a CSV file containing the same information.  Make a copy or download the key immediately and save it to a secure location since you won’t be able to access this key on AWS or in Galera Manager once you close this box.</p>
<p class="sub-heading rubric" id="galera-manager-default-host-ssh-keys">SSH Keys</p>
<p>The last two fields of the <em>Default Host Configuration</em> section are related to <code class="docutils literal notranslate"><span class="pre">ssh</span></code> enryption keys. To be clear, below is the screenshot from Figure 1 again, but cropped here around the part on SSH keys:</p>
<div class="figure" id="id8">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-create-cluster-ssh-keys.png"><img alt="Default Host Configuration - SSH Keys" class="document-screenshot" src="../_images/galera-manager-create-cluster-ssh-keys.png" style="width: 800px;" /></a>
<p class="caption"><span class="caption-text">SSH Keys for Default Host Configuration (Figure 8)</span></p>
</div>
<p>These encryption keys are used to access the AWS Instances, the hosts that are generated by AWS using <code class="docutils literal notranslate"><span class="pre">ssh</span></code>.  Without them, you can’t log into the server and make changes at the command-line.</p>
<p>The private key is entered in a box that appears when you click on <em>SSH Private Key</em>. It’s saved by AWS and attached to the host in its system.  With it, Galera Manager will generate a public key for it to be able to access the host. You can enter your own private key, but its not necessary. AWS will generate one for you behind-the-scenes. You won’t be able to download it through Galera Manager or on AWS.  So you may as well let AWS handle that part.</p>
<p>For you as administrator to access the host with <code class="docutils literal notranslate"><span class="pre">ssh</span></code>, you will need to provide a public key that matches the format of the private key. Click on the icon of a key on the right, where it says, <em>Authorized Keys</em>.  A box will appear like the one below in Figure 9 for you to paste in your public key from your own private key:</p>
<div class="figure" id="id9">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-add-ssh-public-key.png"><img alt="New Cluster in Galera Manager" class="document-screenshot" src="../_images/galera-manager-add-ssh-public-key.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Add Authorized Public SSH Keys (Figure 9)</span></p>
</div>
<p>After pasting in the public key, click on the plus-sign icon to store it.  The field will become empty again so that you may paste in another public key. You may want to paste in a public key for each person for whom you want to provide command-line access. Incidentally, if the public key includes the user’s email address, this will be included in the list of users (see Figure 10 below).</p>
<div class="figure" id="id10">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-ssh-public-keys.png"><img alt="New Cluster in Galera Manager" class="document-screenshot" src="../_images/galera-manager-ssh-public-keys.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Authorized Public SSH Keys (Figure 10)</span></p>
</div>
<p class="section-heading rubric" id="galera-manager-cluster-deployed">Finishing Deployment</p>
<p>When you finish with all of your settings for the new cluster, click on the text in blue where it reads, <em>Create</em>.  This will open a small box that should say it was successful, like the one below:</p>
<div class="figure" id="id11">
<a class="document-screenshot reference internal image-reference" href="../_images/galera-manager-cluster-create-finished.png"><img alt="New Cluster in Galera Manager" class="document-screenshot" src="../_images/galera-manager-cluster-create-finished.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Cluster Finished Creating (Figure 11)</span></p>
</div>
<p>There’s not much to this because you haven’t yet added nodes to the cluster.  To learn about how to add nodes to a cluster, read the <a class="reference internal" href="galera-manager-adding-nodes.html"><span class="doc">Adding Nodes with Galera Manager</span></a> documentation page. Check the <a class="reference internal" href="galera-manager-adding-users.html"><span class="doc">Adding Users to Galera Manager</span></a> page on adding users, the <a class="reference internal" href="galera-manager-initializing-data.html"><span class="doc">Loading Initial Data</span></a> on adding data, and the <a class="reference internal" href="galera-manager-monitoring-clusters.html"><span class="doc">Monitoring a Cluster with Galera Manager</span></a> page on configuring the metrics to track.</p>
<div class="bottom-links docutils container">
<p>Galera Manager Documents</p>
<ul class="simple">
<li><a class="reference internal" href="galera-manager.html"><span class="doc">Getting Started</span></a></li>
<li><a class="reference internal" href="gmd-install.html"><span class="doc">Installing</span></a></li>
<li><a class="reference internal" href="galera-manager-ports.html"><span class="doc">AWS Ports</span></a></li>
<li><a class="reference internal" href="gmd.html"><span class="doc">gmd Daemon</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Deploying Clusters</span></a></li>
<li><a class="reference internal" href="galera-manager-adding-nodes.html"><span class="doc">Adding Nodes</span></a></li>
<li><a class="reference internal" href="galera-manager-adding-users.html"><span class="doc">Adding Users</span></a></li>
<li><a class="reference internal" href="galera-manager-initializing-data.html"><span class="doc">Loading Data</span></a></li>
<li><a class="reference internal" href="galera-manager-monitoring-clusters.html"><span class="doc">Monitoring a Cluster</span></a></li>
<li><a class="reference internal" href="gmd-upgrading.html"><span class="doc">Upgrading</span></a></li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">Galera Cluster</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The Codership Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview of Galera Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="technical-description.html">Technical Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html">Installing Galera Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="administration.html">Galera Cluster Administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="deployment.html">Deployment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="monitor.html">Cluster Monitoring</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="monitoring-cluster.html">Using Status Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="log.html">Database Server Logs</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="galera-manager.html">The Galera Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification-cmd.html">Notification Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="notification-cmd-example.html">Notification Script Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html">Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kb/index.html">The Codership Knowledge Base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/index.html">Codership Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats-new.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="../editors/index.html">Codership Writers &amp; Editors</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">The Codership Documentation</a><ul>
  <li><a href="monitor.html">Cluster Monitoring</a><ul>
  <li><a href="galera-manager.html">The Galera Manager</a><ul>
      <li>Previous: <a href="gmd.html" title="previous chapter">Galera Manager Daemon (<code class="docutils literal notranslate"><span class="pre">gmd</span></code>)</a></li>
      <li>Next: <a href="galera-manager-adding-nodes.html" title="next chapter">Adding Nodes with Galera Manager</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
	<div class="navbar">
	<nav id="site-navigation" class="navigation main-navigation" role="navigation">
	<div class="nav-bar-container">

	<div id="menu-nav-bar" class="nav-menu">
		<ul class="nav-link">
			<li> </li>

		</ul>

	</div>
	</nav>

	<footer id="colophon" class="site-footer" role="contentinfo">
	<div class="top">	<div class="powered-by"><p>Powered by Galera:</p>
	<p><a href="https://mariadb.com/kb/en/galera/"><img class="alignleft size-full wp-image-237" alt="MariaDB" src="https://galeracluster.com/wp-content/uploads/2013/10/logo-mariadb.png" width="166" height="49" /></a></p>
		</div></div>
	<div class="footer-menu">
	<div class="menu-main-menu-container">
	<ul id="menu-main-menu-1" class="nav-menu">
	<li class="link-home menu-item menu-item-type-post_type menu-item-object-page menu-item-359"><a href="https://galeracluster.com/">Home</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-35"><a href="https://galeracluster.com/products/">Products</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-34"><a href="https://galeracluster.com/downloads/">Downloads</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-12 current_page_item current-menu-ancestor current-menu-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-33"><a href="https://galeracluster.com/support/">Support</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-32"><a href="https://galeracluster.com/community/">Community</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-31"><a href="https://galeracluster.com/company/">Company</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-297"><a href="https://galeracluster.com/category/blog/">Blog</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-38"><a href="https://galeracluster.com/contact-us/">Contact us</a></li>
	</ul></div>			</div><!-- .footer-menu -->


	<div class="footer-bar">
	<p class="copyright">2014 Codership Ltd.</p>
	</div>
	<div class="footnote">
	<h2>Your data is invaluable. We're here to secure it. All of it.</h2>
	</div>
	</footer><!-- #colophon -->




  </body>
</html>